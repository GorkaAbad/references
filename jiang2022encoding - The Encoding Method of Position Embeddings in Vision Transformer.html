<!doctype html>
<!--[if IE 9]><html class="ie9" lang="en"><![endif]-->
<html lang="en">
<head>
<meta name="citation_pii" content="S1047320322001845" />
<meta name="citation_id" content="103664" />
<meta name="citation_issn" content="1047-3203" />
<meta name="citation_volume" content="89" />
<meta name="citation_publisher" content="Academic Press" />
<meta name="citation_firstpage" content="103664" />
<meta name="citation_journal_title" content="Journal of Visual Communication and Image Representation" />
<meta name="citation_type" content="JOUR" />
<meta name="citation_doi" content="10.1016/j.jvcir.2022.103664" />
<meta name="dc.identifier" content="10.1016/j.jvcir.2022.103664" />
<meta name="citation_article_type" content="Full-length article" />
<meta property=og:description content="In contrast to Convolutional Neural Networks (CNNs), Vision Transformers (ViT) cannot capture sequence ordering of input tokens and require position e…" />
<meta property=og:image content="https://ars.els-cdn.com/content/image/1-s2.0-S1047320322X00072-cov150h.gif" />
<meta name="citation_title" content="The encoding method of position embeddings in vision transformer" />
<meta property=og:title content="The encoding method of position embeddings in vision transformer" />
<meta name="citation_publication_date" content="2022/11/01" />
<meta name="citation_online_date" content="2022/10/14" />
<meta name="robots" content="INDEX,FOLLOW,NOARCHIVE,NOODP,NOYDIR" />
<title>The encoding method of position embeddings in vision transformer - ScienceDirect</title>
<link rel="canonical" href="https://www.sciencedirect.com/science/article/abs/pii/S1047320322001845" />
<meta property="og:type" content="article" />
<meta name="viewport" content="initial-scale=1" />
<meta name="SDTech" content="Proudly brought to you by the SD Technology team in London, Dayton, and Amsterdam" />
<script type="7aff73178d5774a14e9e5e49-text/javascript">(function newRelicBrowserProSPA() {
  ;
  window.NREUM || (NREUM = {});
  NREUM.init = {
    privacy: {
      cookies_enabled: true
    },
    ajax: {
      deny_list: ["bam-cell.nr-data.net"]
    }
  };
  window.NREUM || (NREUM = {}), __nr_require = function (t, e, n) {
    function r(n) {
      if (!e[n]) {
        var o = e[n] = {
          exports: {}
        };
        t[n][0].call(o.exports, function (e) {
          var o = t[n][1][e];
          return r(o || e);
        }, o, o.exports);
      }

      return e[n].exports;
    }

    if ("function" == typeof __nr_require) return __nr_require;

    for (var o = 0; o < n.length; o++) r(n[o]);

    return r;
  }({
    1: [function (t, e, n) {
      function r(t) {
        try {
          s.console && console.log(t);
        } catch (e) {}
      }

      var o,
          i = t("ee"),
          a = t(31),
          s = {};

      try {
        o = localStorage.getItem("__nr_flags").split(","), console && "function" == typeof console.log && (s.console = !0, o.indexOf("dev") !== -1 && (s.dev = !0), o.indexOf("nr_dev") !== -1 && (s.nrDev = !0));
      } catch (c) {}

      s.nrDev && i.on("internal-error", function (t) {
        r(t.stack);
      }), s.dev && i.on("fn-err", function (t, e, n) {
        r(n.stack);
      }), s.dev && (r("NR AGENT IN DEVELOPMENT MODE"), r("flags: " + a(s, function (t, e) {
        return t;
      }).join(", ")));
    }, {}],
    2: [function (t, e, n) {
      function r(t, e, n, r, s) {
        try {
          l ? l -= 1 : o(s || new UncaughtException(t, e, n), !0);
        } catch (f) {
          try {
            i("ierr", [f, c.now(), !0]);
          } catch (d) {}
        }

        return "function" == typeof u && u.apply(this, a(arguments));
      }

      function UncaughtException(t, e, n) {
        this.message = t || "Uncaught error with no additional information", this.sourceURL = e, this.line = n;
      }

      function o(t, e) {
        var n = e ? null : c.now();
        i("err", [t, n]);
      }

      var i = t("handle"),
          a = t(32),
          s = t("ee"),
          c = t("loader"),
          f = t("gos"),
          u = window.onerror,
          d = !1,
          p = "nr@seenError";

      if (!c.disabled) {
        var l = 0;
        c.features.err = !0, t(1), window.onerror = r;

        try {
          throw new Error();
        } catch (h) {
          "stack" in h && (t(14), t(13), "addEventListener" in window && t(7), c.xhrWrappable && t(15), d = !0);
        }

        s.on("fn-start", function (t, e, n) {
          d && (l += 1);
        }), s.on("fn-err", function (t, e, n) {
          d && !n[p] && (f(n, p, function () {
            return !0;
          }), this.thrown = !0, o(n));
        }), s.on("fn-end", function () {
          d && !this.thrown && l > 0 && (l -= 1);
        }), s.on("internal-error", function (t) {
          i("ierr", [t, c.now(), !0]);
        });
      }
    }, {}],
    3: [function (t, e, n) {
      var r = t("loader");
      r.disabled || (r.features.ins = !0);
    }, {}],
    4: [function (t, e, n) {
      function r() {
        U++, L = g.hash, this[u] = y.now();
      }

      function o() {
        U--, g.hash !== L && i(0, !0);
        var t = y.now();
        this[h] = ~~this[h] + t - this[u], this[d] = t;
      }

      function i(t, e) {
        E.emit("newURL", ["" + g, e]);
      }

      function a(t, e) {
        t.on(e, function () {
          this[e] = y.now();
        });
      }

      var s = "-start",
          c = "-end",
          f = "-body",
          u = "fn" + s,
          d = "fn" + c,
          p = "cb" + s,
          l = "cb" + c,
          h = "jsTime",
          m = "fetch",
          v = "addEventListener",
          w = window,
          g = w.location,
          y = t("loader");

      if (w[v] && y.xhrWrappable && !y.disabled) {
        var x = t(11),
            b = t(12),
            E = t(9),
            R = t(7),
            O = t(14),
            T = t(8),
            S = t(15),
            P = t(10),
            M = t("ee"),
            C = M.get("tracer"),
            N = t(23);
        t(17), y.features.spa = !0;
        var L,
            U = 0;
        M.on(u, r), b.on(p, r), P.on(p, r), M.on(d, o), b.on(l, o), P.on(l, o), M.buffer([u, d, "xhr-resolved"]), R.buffer([u]), O.buffer(["setTimeout" + c, "clearTimeout" + s, u]), S.buffer([u, "new-xhr", "send-xhr" + s]), T.buffer([m + s, m + "-done", m + f + s, m + f + c]), E.buffer(["newURL"]), x.buffer([u]), b.buffer(["propagate", p, l, "executor-err", "resolve" + s]), C.buffer([u, "no-" + u]), P.buffer(["new-jsonp", "cb-start", "jsonp-error", "jsonp-end"]), a(T, m + s), a(T, m + "-done"), a(P, "new-jsonp"), a(P, "jsonp-end"), a(P, "cb-start"), E.on("pushState-end", i), E.on("replaceState-end", i), w[v]("hashchange", i, N(!0)), w[v]("load", i, N(!0)), w[v]("popstate", function () {
          i(0, U > 1);
        }, N(!0));
      }
    }, {}],
    5: [function (t, e, n) {
      function r() {
        var t = new PerformanceObserver(function (t, e) {
          var n = t.getEntries();
          s(v, [n]);
        });

        try {
          t.observe({
            entryTypes: ["resource"]
          });
        } catch (e) {}
      }

      function o(t) {
        if (s(v, [window.performance.getEntriesByType(w)]), window.performance["c" + p]) try {
          window.performance[h](m, o, !1);
        } catch (t) {} else try {
          window.performance[h]("webkit" + m, o, !1);
        } catch (t) {}
      }

      function i(t) {}

      if (window.performance && window.performance.timing && window.performance.getEntriesByType) {
        var a = t("ee"),
            s = t("handle"),
            c = t(14),
            f = t(13),
            u = t(6),
            d = t(23),
            p = "learResourceTimings",
            l = "addEventListener",
            h = "removeEventListener",
            m = "resourcetimingbufferfull",
            v = "bstResource",
            w = "resource",
            g = "-start",
            y = "-end",
            x = "fn" + g,
            b = "fn" + y,
            E = "bstTimer",
            R = "pushState",
            O = t("loader");

        if (!O.disabled) {
          O.features.stn = !0, t(9), "addEventListener" in window && t(7);
          var T = NREUM.o.EV;
          a.on(x, function (t, e) {
            var n = t[0];
            n instanceof T && (this.bstStart = O.now());
          }), a.on(b, function (t, e) {
            var n = t[0];
            n instanceof T && s("bst", [n, e, this.bstStart, O.now()]);
          }), c.on(x, function (t, e, n) {
            this.bstStart = O.now(), this.bstType = n;
          }), c.on(b, function (t, e) {
            s(E, [e, this.bstStart, O.now(), this.bstType]);
          }), f.on(x, function () {
            this.bstStart = O.now();
          }), f.on(b, function (t, e) {
            s(E, [e, this.bstStart, O.now(), "requestAnimationFrame"]);
          }), a.on(R + g, function (t) {
            this.time = O.now(), this.startPath = location.pathname + location.hash;
          }), a.on(R + y, function (t) {
            s("bstHist", [location.pathname + location.hash, this.startPath, this.time]);
          }), u() ? (s(v, [window.performance.getEntriesByType("resource")]), r()) : l in window.performance && (window.performance["c" + p] ? window.performance[l](m, o, d(!1)) : window.performance[l]("webkit" + m, o, d(!1))), document[l]("scroll", i, d(!1)), document[l]("keypress", i, d(!1)), document[l]("click", i, d(!1));
        }
      }
    }, {}],
    6: [function (t, e, n) {
      e.exports = function () {
        return "PerformanceObserver" in window && "function" == typeof window.PerformanceObserver;
      };
    }, {}],
    7: [function (t, e, n) {
      function r(t) {
        for (var e = t; e && !e.hasOwnProperty(u);) e = Object.getPrototypeOf(e);

        e && o(e);
      }

      function o(t) {
        s.inPlace(t, [u, d], "-", i);
      }

      function i(t, e) {
        return t[1];
      }

      var a = t("ee").get("events"),
          s = t("wrap-function")(a, !0),
          c = t("gos"),
          f = XMLHttpRequest,
          u = "addEventListener",
          d = "removeEventListener";
      e.exports = a, "getPrototypeOf" in Object ? (r(document), r(window), r(f.prototype)) : f.prototype.hasOwnProperty(u) && (o(window), o(f.prototype)), a.on(u + "-start", function (t, e) {
        var n = t[1];

        if (null !== n && ("function" == typeof n || "object" == typeof n)) {
          var r = c(n, "nr@wrapped", function () {
            function t() {
              if ("function" == typeof n.handleEvent) return n.handleEvent.apply(n, arguments);
            }

            var e = {
              object: t,
              "function": n
            }[typeof n];
            return e ? s(e, "fn-", null, e.name || "anonymous") : n;
          });
          this.wrapped = t[1] = r;
        }
      }), a.on(d + "-start", function (t) {
        t[1] = this.wrapped || t[1];
      });
    }, {}],
    8: [function (t, e, n) {
      function r(t, e, n) {
        var r = t[e];
        "function" == typeof r && (t[e] = function () {
          var t = i(arguments),
              e = {};
          o.emit(n + "before-start", [t], e);
          var a;
          e[m] && e[m].dt && (a = e[m].dt);
          var s = r.apply(this, t);
          return o.emit(n + "start", [t, a], s), s.then(function (t) {
            return o.emit(n + "end", [null, t], s), t;
          }, function (t) {
            throw o.emit(n + "end", [t], s), t;
          });
        });
      }

      var o = t("ee").get("fetch"),
          i = t(32),
          a = t(31);
      e.exports = o;
      var s = window,
          c = "fetch-",
          f = c + "body-",
          u = ["arrayBuffer", "blob", "json", "text", "formData"],
          d = s.Request,
          p = s.Response,
          l = s.fetch,
          h = "prototype",
          m = "nr@context";
      d && p && l && (a(u, function (t, e) {
        r(d[h], e, f), r(p[h], e, f);
      }), r(s, "fetch", c), o.on(c + "end", function (t, e) {
        var n = this;

        if (e) {
          var r = e.headers.get("content-length");
          null !== r && (n.rxSize = r), o.emit(c + "done", [null, e], n);
        } else o.emit(c + "done", [t], n);
      }));
    }, {}],
    9: [function (t, e, n) {
      var r = t("ee").get("history"),
          o = t("wrap-function")(r);
      e.exports = r;
      var i = window.history && window.history.constructor && window.history.constructor.prototype,
          a = window.history;
      i && i.pushState && i.replaceState && (a = i), o.inPlace(a, ["pushState", "replaceState"], "-");
    }, {}],
    10: [function (t, e, n) {
      function r(t) {
        function e() {
          f.emit("jsonp-end", [], l), t.removeEventListener("load", e, c(!1)), t.removeEventListener("error", n, c(!1));
        }

        function n() {
          f.emit("jsonp-error", [], l), f.emit("jsonp-end", [], l), t.removeEventListener("load", e, c(!1)), t.removeEventListener("error", n, c(!1));
        }

        var r = t && "string" == typeof t.nodeName && "script" === t.nodeName.toLowerCase();

        if (r) {
          var o = "function" == typeof t.addEventListener;

          if (o) {
            var a = i(t.src);

            if (a) {
              var d = s(a),
                  p = "function" == typeof d.parent[d.key];

              if (p) {
                var l = {};
                u.inPlace(d.parent, [d.key], "cb-", l), t.addEventListener("load", e, c(!1)), t.addEventListener("error", n, c(!1)), f.emit("new-jsonp", [t.src], l);
              }
            }
          }
        }
      }

      function o() {
        return "addEventListener" in window;
      }

      function i(t) {
        var e = t.match(d);
        return e ? e[1] : null;
      }

      function a(t, e) {
        var n = t.match(l),
            r = n[1],
            o = n[3];
        return o ? a(o, e[r]) : e[r];
      }

      function s(t) {
        var e = t.match(p);
        return e && e.length >= 3 ? {
          key: e[2],
          parent: a(e[1], window)
        } : {
          key: t,
          parent: window
        };
      }

      var c = t(23),
          f = t("ee").get("jsonp"),
          u = t("wrap-function")(f);

      if (e.exports = f, o()) {
        var d = /[?&](?:callback|cb)=([^&#]+)/,
            p = /(.*)\.([^.]+)/,
            l = /^(\w+)(\.|$)(.*)$/,
            h = ["appendChild", "insertBefore", "replaceChild"];
        Node && Node.prototype && Node.prototype.appendChild ? u.inPlace(Node.prototype, h, "dom-") : (u.inPlace(HTMLElement.prototype, h, "dom-"), u.inPlace(HTMLHeadElement.prototype, h, "dom-"), u.inPlace(HTMLBodyElement.prototype, h, "dom-")), f.on("dom-start", function (t) {
          r(t[0]);
        });
      }
    }, {}],
    11: [function (t, e, n) {
      var r = t("ee").get("mutation"),
          o = t("wrap-function")(r),
          i = NREUM.o.MO;
      e.exports = r, i && (window.MutationObserver = function (t) {
        return this instanceof i ? new i(o(t, "fn-")) : i.apply(this, arguments);
      }, MutationObserver.prototype = i.prototype);
    }, {}],
    12: [function (t, e, n) {
      function r(t) {
        var e = i.context(),
            n = s(t, "executor-", e, null, !1),
            r = new f(n);
        return i.context(r).getCtx = function () {
          return e;
        }, r;
      }

      var o = t("wrap-function"),
          i = t("ee").get("promise"),
          a = t("ee").getOrSetContext,
          s = o(i),
          c = t(31),
          f = NREUM.o.PR;
      e.exports = i, f && (window.Promise = r, ["all", "race"].forEach(function (t) {
        var e = f[t];

        f[t] = function (n) {
          function r(t) {
            return function () {
              i.emit("propagate", [null, !o], a, !1, !1), o = o || !t;
            };
          }

          var o = !1;
          c(n, function (e, n) {
            Promise.resolve(n).then(r("all" === t), r(!1));
          });
          var a = e.apply(f, arguments),
              s = f.resolve(a);
          return s;
        };
      }), ["resolve", "reject"].forEach(function (t) {
        var e = f[t];

        f[t] = function (t) {
          var n = e.apply(f, arguments);
          return t !== n && i.emit("propagate", [t, !0], n, !1, !1), n;
        };
      }), f.prototype["catch"] = function (t) {
        return this.then(null, t);
      }, f.prototype = Object.create(f.prototype, {
        constructor: {
          value: r
        }
      }), c(Object.getOwnPropertyNames(f), function (t, e) {
        try {
          r[e] = f[e];
        } catch (n) {}
      }), o.wrapInPlace(f.prototype, "then", function (t) {
        return function () {
          var e = this,
              n = o.argsToArray.apply(this, arguments),
              r = a(e);
          r.promise = e, n[0] = s(n[0], "cb-", r, null, !1), n[1] = s(n[1], "cb-", r, null, !1);
          var c = t.apply(this, n);
          return r.nextPromise = c, i.emit("propagate", [e, !0], c, !1, !1), c;
        };
      }), i.on("executor-start", function (t) {
        t[0] = s(t[0], "resolve-", this, null, !1), t[1] = s(t[1], "resolve-", this, null, !1);
      }), i.on("executor-err", function (t, e, n) {
        t[1](n);
      }), i.on("cb-end", function (t, e, n) {
        i.emit("propagate", [n, !0], this.nextPromise, !1, !1);
      }), i.on("propagate", function (t, e, n) {
        this.getCtx && !e || (this.getCtx = function () {
          if (t instanceof Promise) var e = i.context(t);
          return e && e.getCtx ? e.getCtx() : this;
        });
      }), r.toString = function () {
        return "" + f;
      });
    }, {}],
    13: [function (t, e, n) {
      var r = t("ee").get("raf"),
          o = t("wrap-function")(r),
          i = "equestAnimationFrame";
      e.exports = r, o.inPlace(window, ["r" + i, "mozR" + i, "webkitR" + i, "msR" + i], "raf-"), r.on("raf-start", function (t) {
        t[0] = o(t[0], "fn-");
      });
    }, {}],
    14: [function (t, e, n) {
      function r(t, e, n) {
        t[0] = a(t[0], "fn-", null, n);
      }

      function o(t, e, n) {
        this.method = n, this.timerDuration = isNaN(t[1]) ? 0 : +t[1], t[0] = a(t[0], "fn-", this, n);
      }

      var i = t("ee").get("timer"),
          a = t("wrap-function")(i),
          s = "setTimeout",
          c = "setInterval",
          f = "clearTimeout",
          u = "-start",
          d = "-";
      e.exports = i, a.inPlace(window, [s, "setImmediate"], s + d), a.inPlace(window, [c], c + d), a.inPlace(window, [f, "clearImmediate"], f + d), i.on(c + u, r), i.on(s + u, o);
    }, {}],
    15: [function (t, e, n) {
      function r(t, e) {
        d.inPlace(e, ["onreadystatechange"], "fn-", s);
      }

      function o() {
        var t = this,
            e = u.context(t);
        t.readyState > 3 && !e.resolved && (e.resolved = !0, u.emit("xhr-resolved", [], t)), d.inPlace(t, y, "fn-", s);
      }

      function i(t) {
        x.push(t), m && (E ? E.then(a) : w ? w(a) : (R = -R, O.data = R));
      }

      function a() {
        for (var t = 0; t < x.length; t++) r([], x[t]);

        x.length && (x = []);
      }

      function s(t, e) {
        return e;
      }

      function c(t, e) {
        for (var n in t) e[n] = t[n];

        return e;
      }

      t(7);
      var f = t("ee"),
          u = f.get("xhr"),
          d = t("wrap-function")(u),
          p = t(23),
          l = NREUM.o,
          h = l.XHR,
          m = l.MO,
          v = l.PR,
          w = l.SI,
          g = "readystatechange",
          y = ["onload", "onerror", "onabort", "onloadstart", "onloadend", "onprogress", "ontimeout"],
          x = [];
      e.exports = u;

      var b = window.XMLHttpRequest = function (t) {
        var e = new h(t);

        try {
          u.emit("new-xhr", [e], e), e.addEventListener(g, o, p(!1));
        } catch (n) {
          try {
            u.emit("internal-error", [n]);
          } catch (r) {}
        }

        return e;
      };

      if (c(h, b), b.prototype = h.prototype, d.inPlace(b.prototype, ["open", "send"], "-xhr-", s), u.on("send-xhr-start", function (t, e) {
        r(t, e), i(e);
      }), u.on("open-xhr-start", r), m) {
        var E = v && v.resolve();

        if (!w && !v) {
          var R = 1,
              O = document.createTextNode(R);
          new m(a).observe(O, {
            characterData: !0
          });
        }
      } else f.on("fn-end", function (t) {
        t[0] && t[0].type === g || a();
      });
    }, {}],
    16: [function (t, e, n) {
      function r(t) {
        if (!s(t)) return null;
        var e = window.NREUM;
        if (!e.loader_config) return null;
        var n = (e.loader_config.accountID || "").toString() || null,
            r = (e.loader_config.agentID || "").toString() || null,
            f = (e.loader_config.trustKey || "").toString() || null;
        if (!n || !r) return null;
        var h = l.generateSpanId(),
            m = l.generateTraceId(),
            v = Date.now(),
            w = {
          spanId: h,
          traceId: m,
          timestamp: v
        };
        return (t.sameOrigin || c(t) && p()) && (w.traceContextParentHeader = o(h, m), w.traceContextStateHeader = i(h, v, n, r, f)), (t.sameOrigin && !u() || !t.sameOrigin && c(t) && d()) && (w.newrelicHeader = a(h, m, v, n, r, f)), w;
      }

      function o(t, e) {
        return "00-" + e + "-" + t + "-01";
      }

      function i(t, e, n, r, o) {
        var i = 0,
            a = "",
            s = 1,
            c = "",
            f = "";
        return o + "@nr=" + i + "-" + s + "-" + n + "-" + r + "-" + t + "-" + a + "-" + c + "-" + f + "-" + e;
      }

      function a(t, e, n, r, o, i) {
        var a = "btoa" in window && "function" == typeof window.btoa;
        if (!a) return null;
        var s = {
          v: [0, 1],
          d: {
            ty: "Browser",
            ac: r,
            ap: o,
            id: t,
            tr: e,
            ti: n
          }
        };
        return i && r !== i && (s.d.tk = i), btoa(JSON.stringify(s));
      }

      function s(t) {
        return f() && c(t);
      }

      function c(t) {
        var e = !1,
            n = {};
        if ("init" in NREUM && "distributed_tracing" in NREUM.init && (n = NREUM.init.distributed_tracing), t.sameOrigin) e = !0;else if (n.allowed_origins instanceof Array) for (var r = 0; r < n.allowed_origins.length; r++) {
          var o = h(n.allowed_origins[r]);

          if (t.hostname === o.hostname && t.protocol === o.protocol && t.port === o.port) {
            e = !0;
            break;
          }
        }
        return e;
      }

      function f() {
        return "init" in NREUM && "distributed_tracing" in NREUM.init && !!NREUM.init.distributed_tracing.enabled;
      }

      function u() {
        return "init" in NREUM && "distributed_tracing" in NREUM.init && !!NREUM.init.distributed_tracing.exclude_newrelic_header;
      }

      function d() {
        return "init" in NREUM && "distributed_tracing" in NREUM.init && NREUM.init.distributed_tracing.cors_use_newrelic_header !== !1;
      }

      function p() {
        return "init" in NREUM && "distributed_tracing" in NREUM.init && !!NREUM.init.distributed_tracing.cors_use_tracecontext_headers;
      }

      var l = t(28),
          h = t(18);
      e.exports = {
        generateTracePayload: r,
        shouldGenerateTrace: s
      };
    }, {}],
    17: [function (t, e, n) {
      function r(t) {
        var e = this.params,
            n = this.metrics;

        if (!this.ended) {
          this.ended = !0;

          for (var r = 0; r < p; r++) t.removeEventListener(d[r], this.listener, !1);

          return e.protocol && "data" === e.protocol ? void g("Ajax/DataUrl/Excluded") : void (e.aborted || (n.duration = a.now() - this.startTime, this.loadCaptureCalled || 4 !== t.readyState ? null == e.status && (e.status = 0) : i(this, t), n.cbTime = this.cbTime, s("xhr", [e, n, this.startTime, this.endTime, "xhr"], this)));
        }
      }

      function o(t, e) {
        var n = c(e),
            r = t.params;
        r.hostname = n.hostname, r.port = n.port, r.protocol = n.protocol, r.host = n.hostname + ":" + n.port, r.pathname = n.pathname, t.parsedOrigin = n, t.sameOrigin = n.sameOrigin;
      }

      function i(t, e) {
        t.params.status = e.status;
        var n = v(e, t.lastSize);

        if (n && (t.metrics.rxSize = n), t.sameOrigin) {
          var r = e.getResponseHeader("X-NewRelic-App-Data");
          r && (t.params.cat = r.split(", ").pop());
        }

        t.loadCaptureCalled = !0;
      }

      var a = t("loader");

      if (a.xhrWrappable && !a.disabled) {
        var s = t("handle"),
            c = t(18),
            f = t(16).generateTracePayload,
            u = t("ee"),
            d = ["load", "error", "abort", "timeout"],
            p = d.length,
            l = t("id"),
            h = t(24),
            m = t(22),
            v = t(19),
            w = t(23),
            g = t(25).recordSupportability,
            y = NREUM.o.REQ,
            x = window.XMLHttpRequest;
        a.features.xhr = !0, t(15), t(8), u.on("new-xhr", function (t) {
          var e = this;
          e.totalCbs = 0, e.called = 0, e.cbTime = 0, e.end = r, e.ended = !1, e.xhrGuids = {}, e.lastSize = null, e.loadCaptureCalled = !1, e.params = this.params || {}, e.metrics = this.metrics || {}, t.addEventListener("load", function (n) {
            i(e, t);
          }, w(!1)), h && (h > 34 || h < 10) || t.addEventListener("progress", function (t) {
            e.lastSize = t.loaded;
          }, w(!1));
        }), u.on("open-xhr-start", function (t) {
          this.params = {
            method: t[0]
          }, o(this, t[1]), this.metrics = {};
        }), u.on("open-xhr-end", function (t, e) {
          "loader_config" in NREUM && "xpid" in NREUM.loader_config && this.sameOrigin && e.setRequestHeader("X-NewRelic-ID", NREUM.loader_config.xpid);
          var n = f(this.parsedOrigin);

          if (n) {
            var r = !1;
            n.newrelicHeader && (e.setRequestHeader("newrelic", n.newrelicHeader), r = !0), n.traceContextParentHeader && (e.setRequestHeader("traceparent", n.traceContextParentHeader), n.traceContextStateHeader && e.setRequestHeader("tracestate", n.traceContextStateHeader), r = !0), r && (this.dt = n);
          }
        }), u.on("send-xhr-start", function (t, e) {
          var n = this.metrics,
              r = t[0],
              o = this;

          if (n && r) {
            var i = m(r);
            i && (n.txSize = i);
          }

          this.startTime = a.now(), this.listener = function (t) {
            try {
              "abort" !== t.type || o.loadCaptureCalled || (o.params.aborted = !0), ("load" !== t.type || o.called === o.totalCbs && (o.onloadCalled || "function" != typeof e.onload)) && o.end(e);
            } catch (n) {
              try {
                u.emit("internal-error", [n]);
              } catch (r) {}
            }
          };

          for (var s = 0; s < p; s++) e.addEventListener(d[s], this.listener, w(!1));
        }), u.on("xhr-cb-time", function (t, e, n) {
          this.cbTime += t, e ? this.onloadCalled = !0 : this.called += 1, this.called !== this.totalCbs || !this.onloadCalled && "function" == typeof n.onload || this.end(n);
        }), u.on("xhr-load-added", function (t, e) {
          var n = "" + l(t) + !!e;
          this.xhrGuids && !this.xhrGuids[n] && (this.xhrGuids[n] = !0, this.totalCbs += 1);
        }), u.on("xhr-load-removed", function (t, e) {
          var n = "" + l(t) + !!e;
          this.xhrGuids && this.xhrGuids[n] && (delete this.xhrGuids[n], this.totalCbs -= 1);
        }), u.on("xhr-resolved", function () {
          this.endTime = a.now();
        }), u.on("addEventListener-end", function (t, e) {
          e instanceof x && "load" === t[0] && u.emit("xhr-load-added", [t[1], t[2]], e);
        }), u.on("removeEventListener-end", function (t, e) {
          e instanceof x && "load" === t[0] && u.emit("xhr-load-removed", [t[1], t[2]], e);
        }), u.on("fn-start", function (t, e, n) {
          e instanceof x && ("onload" === n && (this.onload = !0), ("load" === (t[0] && t[0].type) || this.onload) && (this.xhrCbStart = a.now()));
        }), u.on("fn-end", function (t, e) {
          this.xhrCbStart && u.emit("xhr-cb-time", [a.now() - this.xhrCbStart, this.onload, e], e);
        }), u.on("fetch-before-start", function (t) {
          function e(t, e) {
            var n = !1;
            return e.newrelicHeader && (t.set("newrelic", e.newrelicHeader), n = !0), e.traceContextParentHeader && (t.set("traceparent", e.traceContextParentHeader), e.traceContextStateHeader && t.set("tracestate", e.traceContextStateHeader), n = !0), n;
          }

          var n,
              r = t[1] || {};
          "string" == typeof t[0] ? n = t[0] : t[0] && t[0].url ? n = t[0].url : window.URL && t[0] && t[0] instanceof URL && (n = t[0].href), n && (this.parsedOrigin = c(n), this.sameOrigin = this.parsedOrigin.sameOrigin);
          var o = f(this.parsedOrigin);
          if (o && (o.newrelicHeader || o.traceContextParentHeader)) if ("string" == typeof t[0] || window.URL && t[0] && t[0] instanceof URL) {
            var i = {};

            for (var a in r) i[a] = r[a];

            i.headers = new Headers(r.headers || {}), e(i.headers, o) && (this.dt = o), t.length > 1 ? t[1] = i : t.push(i);
          } else t[0] && t[0].headers && e(t[0].headers, o) && (this.dt = o);
        }), u.on("fetch-start", function (t, e) {
          this.params = {}, this.metrics = {}, this.startTime = a.now(), this.dt = e, t.length >= 1 && (this.target = t[0]), t.length >= 2 && (this.opts = t[1]);
          var n,
              r = this.opts || {},
              i = this.target;

          if ("string" == typeof i ? n = i : "object" == typeof i && i instanceof y ? n = i.url : window.URL && "object" == typeof i && i instanceof URL && (n = i.href), o(this, n), "data" !== this.params.protocol) {
            var s = ("" + (i && i instanceof y && i.method || r.method || "GET")).toUpperCase();
            this.params.method = s, this.txSize = m(r.body) || 0;
          }
        }), u.on("fetch-done", function (t, e) {
          if (this.endTime = a.now(), this.params || (this.params = {}), "data" === this.params.protocol) return void g("Ajax/DataUrl/Excluded");
          this.params.status = e ? e.status : 0;
          var n;
          "string" == typeof this.rxSize && this.rxSize.length > 0 && (n = +this.rxSize);
          var r = {
            txSize: this.txSize,
            rxSize: n,
            duration: a.now() - this.startTime
          };
          s("xhr", [this.params, r, this.startTime, this.endTime, "fetch"], this);
        });
      }
    }, {}],
    18: [function (t, e, n) {
      var r = {};

      e.exports = function (t) {
        if (t in r) return r[t];
        if (0 === (t || "").indexOf("data:")) return {
          protocol: "data"
        };
        var e = document.createElement("a"),
            n = window.location,
            o = {};
        e.href = t, o.port = e.port;
        var i = e.href.split("://");
        !o.port && i[1] && (o.port = i[1].split("/")[0].split("@").pop().split(":")[1]), o.port && "0" !== o.port || (o.port = "https" === i[0] ? "443" : "80"), o.hostname = e.hostname || n.hostname, o.pathname = e.pathname, o.protocol = i[0], "/" !== o.pathname.charAt(0) && (o.pathname = "/" + o.pathname);
        var a = !e.protocol || ":" === e.protocol || e.protocol === n.protocol,
            s = e.hostname === document.domain && e.port === n.port;
        return o.sameOrigin = a && (!e.hostname || s), "/" === o.pathname && (r[t] = o), o;
      };
    }, {}],
    19: [function (t, e, n) {
      function r(t, e) {
        var n = t.responseType;
        return "json" === n && null !== e ? e : "arraybuffer" === n || "blob" === n || "json" === n ? o(t.response) : "text" === n || "" === n || void 0 === n ? o(t.responseText) : void 0;
      }

      var o = t(22);
      e.exports = r;
    }, {}],
    20: [function (t, e, n) {
      function r() {}

      function o(t, e, n, r) {
        return function () {
          return u.recordSupportability("API/" + e + "/called"), i(t + e, [f.now()].concat(s(arguments)), n ? null : this, r), n ? void 0 : this;
        };
      }

      var i = t("handle"),
          a = t(31),
          s = t(32),
          c = t("ee").get("tracer"),
          f = t("loader"),
          u = t(25),
          d = NREUM;
      "undefined" == typeof window.newrelic && (newrelic = d);
      var p = ["setPageViewName", "setCustomAttribute", "setErrorHandler", "finished", "addToTrace", "inlineHit", "addRelease"],
          l = "api-",
          h = l + "ixn-";
      a(p, function (t, e) {
        d[e] = o(l, e, !0, "api");
      }), d.addPageAction = o(l, "addPageAction", !0), d.setCurrentRouteName = o(l, "routeName", !0), e.exports = newrelic, d.interaction = function () {
        return new r().get();
      };
      var m = r.prototype = {
        createTracer: function (t, e) {
          var n = {},
              r = this,
              o = "function" == typeof e;
          return i(h + "tracer", [f.now(), t, n], r), function () {
            if (c.emit((o ? "" : "no-") + "fn-start", [f.now(), r, o], n), o) try {
              return e.apply(this, arguments);
            } catch (t) {
              throw c.emit("fn-err", [arguments, this, t], n), t;
            } finally {
              c.emit("fn-end", [f.now()], n);
            }
          };
        }
      };
      a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","), function (t, e) {
        m[e] = o(h, e);
      }), newrelic.noticeError = function (t, e) {
        "string" == typeof t && (t = new Error(t)), u.recordSupportability("API/noticeError/called"), i("err", [t, f.now(), !1, e]);
      };
    }, {}],
    21: [function (t, e, n) {
      function r(t) {
        if (NREUM.init) {
          for (var e = NREUM.init, n = t.split("."), r = 0; r < n.length - 1; r++) if (e = e[n[r]], "object" != typeof e) return;

          return e = e[n[n.length - 1]];
        }
      }

      e.exports = {
        getConfiguration: r
      };
    }, {}],
    22: [function (t, e, n) {
      e.exports = function (t) {
        if ("string" == typeof t && t.length) return t.length;

        if ("object" == typeof t) {
          if ("undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer && t.byteLength) return t.byteLength;
          if ("undefined" != typeof Blob && t instanceof Blob && t.size) return t.size;
          if (!("undefined" != typeof FormData && t instanceof FormData)) try {
            return JSON.stringify(t).length;
          } catch (e) {
            return;
          }
        }
      };
    }, {}],
    23: [function (t, e, n) {
      var r = !1;

      try {
        var o = Object.defineProperty({}, "passive", {
          get: function () {
            r = !0;
          }
        });
        window.addEventListener("testPassive", null, o), window.removeEventListener("testPassive", null, o);
      } catch (i) {}

      e.exports = function (t) {
        return r ? {
          passive: !0,
          capture: !!t
        } : !!t;
      };
    }, {}],
    24: [function (t, e, n) {
      var r = 0,
          o = navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);
      o && (r = +o[1]), e.exports = r;
    }, {}],
    25: [function (t, e, n) {
      function r(t, e) {
        var n = [a, t, {
          name: t
        }, e];
        return i("storeMetric", n, null, "api"), n;
      }

      function o(t, e) {
        var n = [s, t, {
          name: t
        }, e];
        return i("storeEventMetrics", n, null, "api"), n;
      }

      var i = t("handle"),
          a = "sm",
          s = "cm";
      e.exports = {
        constants: {
          SUPPORTABILITY_METRIC: a,
          CUSTOM_METRIC: s
        },
        recordSupportability: r,
        recordCustom: o
      };
    }, {}],
    26: [function (t, e, n) {
      function r() {
        return s.exists && performance.now ? Math.round(performance.now()) : (i = Math.max(new Date().getTime(), i)) - a;
      }

      function o() {
        return i;
      }

      var i = new Date().getTime(),
          a = i,
          s = t(33);
      e.exports = r, e.exports.offset = a, e.exports.getLastTimestamp = o;
    }, {}],
    27: [function (t, e, n) {
      function r(t, e) {
        var n = t.getEntries();
        n.forEach(function (t) {
          "first-paint" === t.name ? l("timing", ["fp", Math.floor(t.startTime)]) : "first-contentful-paint" === t.name && l("timing", ["fcp", Math.floor(t.startTime)]);
        });
      }

      function o(t, e) {
        var n = t.getEntries();

        if (n.length > 0) {
          var r = n[n.length - 1];
          if (f && f < r.startTime) return;
          var o = [r],
              i = a({});
          i && o.push(i), l("lcp", o);
        }
      }

      function i(t) {
        t.getEntries().forEach(function (t) {
          t.hadRecentInput || l("cls", [t]);
        });
      }

      function a(t) {
        var e = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        if (e) return e.type && (t["net-type"] = e.type), e.effectiveType && (t["net-etype"] = e.effectiveType), e.rtt && (t["net-rtt"] = e.rtt), e.downlink && (t["net-dlink"] = e.downlink), t;
      }

      function s(t) {
        if (t instanceof w && !y) {
          var e = Math.round(t.timeStamp),
              n = {
            type: t.type
          };
          a(n), e <= h.now() ? n.fid = h.now() - e : e > h.offset && e <= Date.now() ? (e -= h.offset, n.fid = h.now() - e) : e = h.now(), y = !0, l("timing", ["fi", e, n]);
        }
      }

      function c(t) {
        "hidden" === t && (f = h.now(), l("pageHide", [f]));
      }

      if (!("init" in NREUM && "page_view_timing" in NREUM.init && "enabled" in NREUM.init.page_view_timing && NREUM.init.page_view_timing.enabled === !1)) {
        var f,
            u,
            d,
            p,
            l = t("handle"),
            h = t("loader"),
            m = t(30),
            v = t(23),
            w = NREUM.o.EV;

        if ("PerformanceObserver" in window && "function" == typeof window.PerformanceObserver) {
          u = new PerformanceObserver(r);

          try {
            u.observe({
              entryTypes: ["paint"]
            });
          } catch (g) {}

          d = new PerformanceObserver(o);

          try {
            d.observe({
              entryTypes: ["largest-contentful-paint"]
            });
          } catch (g) {}

          p = new PerformanceObserver(i);

          try {
            p.observe({
              type: "layout-shift",
              buffered: !0
            });
          } catch (g) {}
        }

        if ("addEventListener" in document) {
          var y = !1,
              x = ["click", "keydown", "mousedown", "pointerdown", "touchstart"];
          x.forEach(function (t) {
            document.addEventListener(t, s, v(!1));
          });
        }

        m(c);
      }
    }, {}],
    28: [function (t, e, n) {
      function r() {
        function t() {
          return e ? 15 & e[n++] : 16 * Math.random() | 0;
        }

        var e = null,
            n = 0,
            r = window.crypto || window.msCrypto;
        r && r.getRandomValues && (e = r.getRandomValues(new Uint8Array(31)));

        for (var o, i = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx", a = "", s = 0; s < i.length; s++) o = i[s], "x" === o ? a += t().toString(16) : "y" === o ? (o = 3 & t() | 8, a += o.toString(16)) : a += o;

        return a;
      }

      function o() {
        return a(16);
      }

      function i() {
        return a(32);
      }

      function a(t) {
        function e() {
          return n ? 15 & n[r++] : 16 * Math.random() | 0;
        }

        var n = null,
            r = 0,
            o = window.crypto || window.msCrypto;
        o && o.getRandomValues && Uint8Array && (n = o.getRandomValues(new Uint8Array(t)));

        for (var i = [], a = 0; a < t; a++) i.push(e().toString(16));

        return i.join("");
      }

      e.exports = {
        generateUuid: r,
        generateSpanId: o,
        generateTraceId: i
      };
    }, {}],
    29: [function (t, e, n) {
      function r(t, e) {
        if (!o) return !1;
        if (t !== o) return !1;
        if (!e) return !0;
        if (!i) return !1;

        for (var n = i.split("."), r = e.split("."), a = 0; a < r.length; a++) if (r[a] !== n[a]) return !1;

        return !0;
      }

      var o = null,
          i = null,
          a = /Version\/(\S+)\s+Safari/;

      if (navigator.userAgent) {
        var s = navigator.userAgent,
            c = s.match(a);
        c && s.indexOf("Chrome") === -1 && s.indexOf("Chromium") === -1 && (o = "Safari", i = c[1]);
      }

      e.exports = {
        agent: o,
        version: i,
        match: r
      };
    }, {}],
    30: [function (t, e, n) {
      function r(t) {
        function e() {
          t(s && document[s] ? document[s] : document[i] ? "hidden" : "visible");
        }

        "addEventListener" in document && a && document.addEventListener(a, e, o(!1));
      }

      var o = t(23);
      e.exports = r;
      var i, a, s;
      "undefined" != typeof document.hidden ? (i = "hidden", a = "visibilitychange", s = "visibilityState") : "undefined" != typeof document.msHidden ? (i = "msHidden", a = "msvisibilitychange") : "undefined" != typeof document.webkitHidden && (i = "webkitHidden", a = "webkitvisibilitychange", s = "webkitVisibilityState");
    }, {}],
    31: [function (t, e, n) {
      function r(t, e) {
        var n = [],
            r = "",
            i = 0;

        for (r in t) o.call(t, r) && (n[i] = e(r, t[r]), i += 1);

        return n;
      }

      var o = Object.prototype.hasOwnProperty;
      e.exports = r;
    }, {}],
    32: [function (t, e, n) {
      function r(t, e, n) {
        e || (e = 0), "undefined" == typeof n && (n = t ? t.length : 0);

        for (var r = -1, o = n - e || 0, i = Array(o < 0 ? 0 : o); ++r < o;) i[r] = t[e + r];

        return i;
      }

      e.exports = r;
    }, {}],
    33: [function (t, e, n) {
      e.exports = {
        exists: "undefined" != typeof window.performance && window.performance.timing && "undefined" != typeof window.performance.timing.navigationStart
      };
    }, {}],
    ee: [function (t, e, n) {
      function r() {}

      function o(t) {
        function e(t) {
          return t && t instanceof r ? t : t ? f(t, c, a) : a();
        }

        function n(n, r, o, i, a) {
          if (a !== !1 && (a = !0), !l.aborted || i) {
            t && a && t(n, r, o);

            for (var s = e(o), c = m(n), f = c.length, u = 0; u < f; u++) c[u].apply(s, r);

            var p = d[y[n]];
            return p && p.push([x, n, r, s]), s;
          }
        }

        function i(t, e) {
          g[t] = m(t).concat(e);
        }

        function h(t, e) {
          var n = g[t];
          if (n) for (var r = 0; r < n.length; r++) n[r] === e && n.splice(r, 1);
        }

        function m(t) {
          return g[t] || [];
        }

        function v(t) {
          return p[t] = p[t] || o(n);
        }

        function w(t, e) {
          l.aborted || u(t, function (t, n) {
            e = e || "feature", y[n] = e, e in d || (d[e] = []);
          });
        }

        var g = {},
            y = {},
            x = {
          on: i,
          addEventListener: i,
          removeEventListener: h,
          emit: n,
          get: v,
          listeners: m,
          context: e,
          buffer: w,
          abort: s,
          aborted: !1
        };
        return x;
      }

      function i(t) {
        return f(t, c, a);
      }

      function a() {
        return new r();
      }

      function s() {
        (d.api || d.feature) && (l.aborted = !0, d = l.backlog = {});
      }

      var c = "nr@context",
          f = t("gos"),
          u = t(31),
          d = {},
          p = {},
          l = e.exports = o();
      e.exports.getOrSetContext = i, l.backlog = d;
    }, {}],
    gos: [function (t, e, n) {
      function r(t, e, n) {
        if (o.call(t, e)) return t[e];
        var r = n();
        if (Object.defineProperty && Object.keys) try {
          return Object.defineProperty(t, e, {
            value: r,
            writable: !0,
            enumerable: !1
          }), r;
        } catch (i) {}
        return t[e] = r, r;
      }

      var o = Object.prototype.hasOwnProperty;
      e.exports = r;
    }, {}],
    handle: [function (t, e, n) {
      function r(t, e, n, r) {
        o.buffer([t], r), o.emit(t, e, n);
      }

      var o = t("ee").get("handle");
      e.exports = r, r.ee = o;
    }, {}],
    id: [function (t, e, n) {
      function r(t) {
        var e = typeof t;
        return !t || "object" !== e && "function" !== e ? -1 : t === window ? 0 : a(t, i, function () {
          return o++;
        });
      }

      var o = 1,
          i = "nr@id",
          a = t("gos");
      e.exports = r;
    }, {}],
    loader: [function (t, e, n) {
      function r() {
        if (!T++) {
          var t = O.info = NREUM.info,
              e = m.getElementsByTagName("script")[0];
          if (setTimeout(f.abort, 3e4), !(t && t.licenseKey && t.applicationID && e)) return f.abort();
          c(E, function (e, n) {
            t[e] || (t[e] = n);
          });
          var n = a();
          s("mark", ["onload", n + O.offset], null, "api"), s("timing", ["load", n]);
          var r = m.createElement("script");
          0 === t.agent.indexOf("http://") || 0 === t.agent.indexOf("https://") ? r.src = t.agent : r.src = l + "://" + t.agent, e.parentNode.insertBefore(r, e);
        }
      }

      function o() {
        "complete" === m.readyState && i();
      }

      function i() {
        s("mark", ["domContent", a() + O.offset], null, "api");
      }

      var a = t(26),
          s = t("handle"),
          c = t(31),
          f = t("ee"),
          u = t(29),
          d = t(21),
          p = t(23),
          l = d.getConfiguration("ssl") === !1 ? "http" : "https",
          h = window,
          m = h.document,
          v = "addEventListener",
          w = "attachEvent",
          g = h.XMLHttpRequest,
          y = g && g.prototype,
          x = !1;
      NREUM.o = {
        ST: setTimeout,
        SI: h.setImmediate,
        CT: clearTimeout,
        XHR: g,
        REQ: h.Request,
        EV: h.Event,
        PR: h.Promise,
        MO: h.MutationObserver
      };
      var b = "" + location,
          E = {
        beacon: "bam.nr-data.net",
        errorBeacon: "bam.nr-data.net",
        agent: "js-agent.newrelic.com/nr-spa-1216.min.js"
      },
          R = g && y && y[v] && !/CriOS/.test(navigator.userAgent),
          O = e.exports = {
        offset: a.getLastTimestamp(),
        now: a,
        origin: b,
        features: {},
        xhrWrappable: R,
        userAgent: u,
        disabled: x
      };

      if (!x) {
        t(20), t(27), m[v] ? (m[v]("DOMContentLoaded", i, p(!1)), h[v]("load", r, p(!1))) : (m[w]("onreadystatechange", o), h[w]("onload", r)), s("mark", ["firstbyte", a.getLastTimestamp()], null, "api");
        var T = 0;
      }
    }, {}],
    "wrap-function": [function (t, e, n) {
      function r(t, e) {
        function n(e, n, r, c, f) {
          function nrWrapper() {
            var i, a, u, p;

            try {
              a = this, i = d(arguments), u = "function" == typeof r ? r(i, a) : r || {};
            } catch (l) {
              o([l, "", [i, a, c], u], t);
            }

            s(n + "start", [i, a, c], u, f);

            try {
              return p = e.apply(a, i);
            } catch (h) {
              throw s(n + "err", [i, a, h], u, f), h;
            } finally {
              s(n + "end", [i, a, p], u, f);
            }
          }

          return a(e) ? e : (n || (n = ""), nrWrapper[p] = e, i(e, nrWrapper, t), nrWrapper);
        }

        function r(t, e, r, o, i) {
          r || (r = "");
          var s,
              c,
              f,
              u = "-" === r.charAt(0);

          for (f = 0; f < e.length; f++) c = e[f], s = t[c], a(s) || (t[c] = n(s, u ? c + r : r, o, c, i));
        }

        function s(n, r, i, a) {
          if (!h || e) {
            var s = h;
            h = !0;

            try {
              t.emit(n, r, i, e, a);
            } catch (c) {
              o([c, n, r, i], t);
            }

            h = s;
          }
        }

        return t || (t = u), n.inPlace = r, n.flag = p, n;
      }

      function o(t, e) {
        e || (e = u);

        try {
          e.emit("internal-error", t);
        } catch (n) {}
      }

      function i(t, e, n) {
        if (Object.defineProperty && Object.keys) try {
          var r = Object.keys(t);
          return r.forEach(function (n) {
            Object.defineProperty(e, n, {
              get: function () {
                return t[n];
              },
              set: function (e) {
                return t[n] = e, e;
              }
            });
          }), e;
        } catch (i) {
          o([i], n);
        }

        for (var a in t) l.call(t, a) && (e[a] = t[a]);

        return e;
      }

      function a(t) {
        return !(t && t instanceof Function && t.apply && !t[p]);
      }

      function s(t, e) {
        var n = e(t);
        return n[p] = t, i(t, n, u), n;
      }

      function c(t, e, n) {
        var r = t[e];
        t[e] = s(r, n);
      }

      function f() {
        for (var t = arguments.length, e = new Array(t), n = 0; n < t; ++n) e[n] = arguments[n];

        return e;
      }

      var u = t("ee"),
          d = t(32),
          p = "nr@original",
          l = Object.prototype.hasOwnProperty,
          h = !1;
      e.exports = r, e.exports.wrapFunction = s, e.exports.wrapInPlace = c, e.exports.argsToArray = f;
    }, {}]
  }, {}, ["loader", 2, 17, 5, 3, 4]);
  ;
  NREUM.loader_config = {
    accountID: "2128461",
    trustKey: "2038175",
    agentID: "1118783207",
    licenseKey: "7ac4127487",
    applicationID: "814813181"
  };
  NREUM.info = {
    beacon: "bam-cell.nr-data.net",
    errorBeacon: "bam-cell.nr-data.net",
    licenseKey: "7ac4127487",
    applicationID: "814813181",
    sa: 1
  };
})()</script>
<link rel='shortcut icon' href='https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/13/images/favSD.ico' type='image/x-icon' />
<link rel='icon' href='https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/13/images/favSD.ico' type='image/x-icon'>
<link rel='stylesheet' href='https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/e3753beae449620a3579cc0662544120618e2090/arp.css'>
<link href="//cdn.pendo.io" rel="dns-prefetch" />
<link href="https://cdn.pendo.io" rel="preconnect" crossorigin="anonymous" />
<link rel='dns-prefetch' href='https://smetrics.elsevier.com'>
<script type="7aff73178d5774a14e9e5e49-text/javascript">
        
        window.pageTargeting = {"region":"eu-west-1","platform":"sdtech","entitled":false,"crawler":"","journal":"Journal of Visual Communication and Image Representation","auth":"AE"};
        window.pageData = {"content":[{"entitlementType":"unsubscribed","format":"MIME-XHTML","id":"sd:article:pii:S1047320322001845","type":"sd:article:JL:scope-abstract","detail":"sd:article:subtype:fla","publicationType":"journal","issn":"1047-3203","volumeNumber":"89","suppl":"C","provider":"elsevier"}],"page":{"businessUnit":"ELS:RP:ST","language":"en","name":"product:journal:article","noTracking":"false","productAppVersion":"abstract-direct","productName":"SD","type":"CP-CA","environment":"prod","loadTimestamp":1677831179287,"loadTime":""},"visitor":{"accessType":"ae:ANON_IP","accountId":"ae:40658","accountName":"ae:Ikerlan Technological Research Centre","loginStatus":"anonymous","userId":"ae:729875","ipAddress":"193.145.247.253","appSessionId":"9adf8e01-18bf-4e80-9c1b-c481bfe78bf6"}};
        window.arp = {
          config: {"adobeSuite":"elsevier-sd-prod","arsUrl":"https://ars.els-cdn.com","assetsBaseUrl":"https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/e3753beae449620a3579cc0662544120618e2090","bosTimeOut":60000,"bosUrl":"https://feedback.recs.d.elsevier.com/raw/events","cdnAssetsHost":"https://sdfestaticassets-eu-west-1.sciencedirectassets.com","googleMapsApiKey":"AIzaSyCBYU6I6lrbEU6wQXUEIte3NwGtm3jwHQc","mediaBaseUrl":"https://ars.els-cdn.com/content/image/","reduxLogging":false,"sendToEnhancedReader":true,"strictMode":false,"seamlessAccess":{"enableSeamlessAccess":true,"scriptUrl":"https://unpkg.com/@theidentityselector/thiss-ds@1.0.13/dist/thiss-ds.js","persistenceUrl":"https://service.seamlessaccess.org/ps/","persistenceContext":"seamlessaccess.org","scienceDirectUrl":"https://www.sciencedirect.com","shibAuthUrl":"https://auth.elsevier.com/ShibAuth/institutionLogin"},"universalPdf":{"enableUniversalPdf":true,"universalPdfUrl":"https://static.mendeley.com/view-pdf-component/0.8.9/dist/view-pdf-element.js","integratorId":{"other":8301,"accessbar":10879}},"reaxys":{"enableReaxys":false,"url":"https://www.reaxys.com"}},
          subscriptions: [],
          subscribe: function(cb) {
            var self = this;
            var i = this.subscriptions.push(cb) - 1;
            return function unsubscribe() {
              self.subscriptions.splice(i, 1);
            }
          },
        };
        window.addEventListener('beforeprint', () => pendo.onGuideDismissed());
      </script>
</head>
<body>
<noscript>
      JavaScript is disabled on your browser.
      Please enable JavaScript to use all the features on this page.
      <img src=https://smetrics.elsevier.com/b/ss/elsevier-sd-prod/1/G.4--NS/1677831179293?pageName=sd%3Aproduct%3Ajournal%3Aarticle&c16=els%3Arp%3Ast&c2=sd&v185=img&v33=ae%3AANON_IP&c1=ae%3A40658&c12=ae%3A729875 />
    </noscript>
<a class="anchor sr-only sr-only-focusable u-display-inline anchor-default" href="#screen-reader-main-content" data-reactroot=""><span class="anchor-text">Skip to main content</span></a><a class="anchor sr-only sr-only-focusable u-display-inline anchor-default" href="#screen-reader-main-title" data-reactroot=""><span class="anchor-text">Skip to article</span></a>
<!--[if lt IE 9]>
      <div id="ie8Warning" class="warning">
        <script>function ie8click() {
  const node = document.getElementById('ie8Warning');
  document.cookie = 'ie_warning_state=1';
  node.parentNode.removeChild(node);
}</script>
        <p>Please note that Internet Explorer version 8.x is not supported as of January 1, 2016.
        Please refer to <a href="https://service.elsevier.com/app/answers/detail/a_id/9831">this support page</a> for more information.</p>
        <a class="warning-close" onclick="ie8click()" title="Close IE warning">&times;</a>
      </div>
    <![endif]-->
<div data-iso-key="_0"><div class="App" id="app" data-aa-name="root" data-reactroot=""><div class="page"><div class="sd-flex-container"><div class="sd-flex-content"><header id="gh-cnt"><div id="gh-main-cnt" class="u-flex-center-ver u-position-relative u-padding-s-hor u-padding-l-hor-from-xl"><a id="gh-branding" class="u-flex-center-ver" href="/" aria-label="ScienceDirect home page" data-aa-region="header" data-aa-name="ScienceDirect"><img class="gh-logo" src="https://sdfestaticassets-us-east-1.sciencedirectassets.com/shared-assets/24/images/elsevier-non-solus-new-grey.svg" alt="Elsevier logo" height="48" width="54" /><svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="15" viewBox="0 0 190 23" role="img" class="gh-wordmark u-margin-s-left" aria-labelledby="gh-wm-science-direct" focusable="false" aria-hidden="true" alt="ScienceDirect Wordmark"><title id="gh-wm-science-direct">ScienceDirect</title><g><path fill="#EB6500" d="M3.81 6.9c0-1.48 0.86-3.04 3.7-3.04 1.42 0 3.1 0.43 4.65 1.32l0.13-2.64c-1.42-0.63-2.97-0.96-4.78-0.96 -4.62 0-6.6 2.44-6.6 5.45 0 5.61 8.78 6.14 8.78 9.93 0 1.48-1.15 3.04-3.86 3.04 -1.72 0-3.4-0.56-4.72-1.39l-0.36 2.64c1.55 0.76 3.57 1.06 5.15 1.06 4.26 0 6.7-2.48 6.7-5.51C12.59 11.49 3.81 10.76 3.81 6.9M20.27 9.01c0.23-0.13 0.69-0.26 1.72-0.26 1.72 0 2.41 0.3 2.41 1.58h2.38c0-0.36 0-0.79-0.03-1.09 -0.23-1.98-2.15-2.67-4.88-2.67 -3 0-6.7 2.31-6.7 7.76 0 5.22 2.77 7.99 6.63 7.99 1.68 0 3.47-0.36 4.95-1.39l-0.2-2.31c-0.99 0.82-2.84 1.52-4.06 1.52 -2.14 0-4.55-1.71-4.55-5.91C17.93 10.2 20.01 9.18 20.27 9.01"></path><rect x="29.42" y="6.97" fill="#EB6500" width="2.54" height="14.95"></rect><path fill="#EB6500" d="M30.67 0.7c-0.92 0-1.65 0.92-1.65 1.81 0 0.93 0.76 1.85 1.65 1.85 0.89 0 1.68-0.96 1.68-1.88C32.35 1.55 31.56 0.7 30.67 0.7M48.06 14.13c0-5.18-1.42-7.56-6.01-7.56 -3.86 0-6.67 2.77-6.67 7.92 0 4.92 2.97 7.82 6.73 7.82 2.81 0 4.36-0.63 5.68-1.42l-0.2-2.31c-0.89 0.79-2.94 1.55-4.69 1.55 -3.14 0-4.88-1.95-4.88-5.51v-0.49H48.06M39.91 9.18c0.17-0.17 1.29-0.46 1.98-0.46 2.48 0 3.76 0.53 3.86 3.43h-7.46C38.56 10.27 39.71 9.37 39.91 9.18zM58.82 6.57c-2.24 0-3.63 1.12-4.85 2.61l-0.4-2.21h-2.34l0.13 1.19c0.1 0.76 0.13 1.78 0.13 2.97v10.79h2.54V11.88c0.69-0.96 2.15-2.48 2.48-2.64 0.23-0.13 1.29-0.4 2.08-0.4 2.28 0 2.48 1.15 2.54 3.43 0.03 1.19 0.03 3.17 0.03 3.17 0.03 3-0.1 6.47-0.1 6.47h2.54c0 0 0.07-4.49 0.07-6.96 0-1.48 0.03-2.97-0.1-4.46C63.31 7.43 61.49 6.57 58.82 6.57M72.12 9.01c0.23-0.13 0.69-0.26 1.72-0.26 1.72 0 2.41 0.3 2.41 1.58h2.38c0-0.36 0-0.79-0.03-1.09 -0.23-1.98-2.15-2.67-4.88-2.67 -3 0-6.7 2.31-6.7 7.76 0 5.22 2.77 7.99 6.63 7.99 1.68 0 3.47-0.36 4.95-1.39l-0.2-2.31c-0.99 0.82-2.84 1.52-4.06 1.52 -2.15 0-4.55-1.71-4.55-5.91C69.77 10.2 71.85 9.18 72.12 9.01M92.74 14.13c0-5.18-1.42-7.56-6.01-7.56 -3.86 0-6.67 2.77-6.67 7.92 0 4.92 2.97 7.82 6.73 7.82 2.81 0 4.36-0.63 5.68-1.42l-0.2-2.31c-0.89 0.79-2.94 1.55-4.69 1.55 -3.14 0-4.88-1.95-4.88-5.51v-0.49H92.74M84.59 9.18c0.17-0.17 1.29-0.46 1.98-0.46 2.48 0 3.76 0.53 3.86 3.43h-7.46C83.24 10.27 84.39 9.37 84.59 9.18zM103.9 1.98h-7.13v19.93h6.83c7.26 0 9.77-5.68 9.77-10.03C113.37 7.33 110.93 1.98 103.9 1.98M103.14 19.8h-3.76V4.1h4.09c5.38 0 6.96 4.39 6.96 7.79C110.43 16.87 108.19 19.8 103.14 19.8zM118.38 0.7c-0.92 0-1.65 0.92-1.65 1.81 0 0.93 0.76 1.85 1.65 1.85 0.89 0 1.69-0.96 1.69-1.88C120.07 1.55 119.28 0.7 118.38 0.7"></path><rect x="117.13" y="6.97" fill="#EB6500" width="2.54" height="14.95"></rect><path fill="#EB6500" d="M130.2 6.6c-1.62 0-2.87 1.45-3.4 2.74l-0.43-2.37h-2.34l0.13 1.19c0.1 0.76 0.13 1.75 0.13 2.9v10.86h2.54v-9.51c0.53-1.29 1.72-3.7 3.17-3.7 0.96 0 1.06 0.99 1.06 1.22l2.08-0.6V9.18c0-0.03-0.03-0.17-0.06-0.4C132.8 7.36 131.91 6.6 130.2 6.6M145.87 14.13c0-5.18-1.42-7.56-6.01-7.56 -3.86 0-6.67 2.77-6.67 7.92 0 4.92 2.97 7.82 6.73 7.82 2.81 0 4.36-0.63 5.68-1.42l-0.2-2.31c-0.89 0.79-2.94 1.55-4.69 1.55 -3.14 0-4.89-1.95-4.89-5.51v-0.49H145.87M137.72 9.18c0.17-0.17 1.29-0.46 1.98-0.46 2.48 0 3.76 0.53 3.86 3.43h-7.46C136.37 10.27 137.52 9.37 137.72 9.18zM153.23 9.01c0.23-0.13 0.69-0.26 1.72-0.26 1.72 0 2.41 0.3 2.41 1.58h2.38c0-0.36 0-0.79-0.03-1.09 -0.23-1.98-2.14-2.67-4.88-2.67 -3 0-6.7 2.31-6.7 7.76 0 5.22 2.77 7.99 6.63 7.99 1.69 0 3.47-0.36 4.95-1.39l-0.2-2.31c-0.99 0.82-2.84 1.52-4.06 1.52 -2.15 0-4.55-1.71-4.55-5.91C150.89 10.2 152.97 9.18 153.23 9.01M170 19.44c-0.92 0.36-1.72 0.69-2.51 0.69 -1.16 0-1.58-0.66-1.58-2.34V8.95h3.93V6.97h-3.93V2.97h-2.48v3.99h-2.71v1.98h2.71v9.67c0 2.64 1.39 3.73 3.33 3.73 1.15 0 2.54-0.39 3.43-0.79L170 19.44M173.68 5.96c-1.09 0-2-0.87-2-1.97 0-1.1 0.91-1.97 2-1.97s1.98 0.88 1.98 1.98C175.66 5.09 174.77 5.96 173.68 5.96zM173.67 2.46c-0.85 0-1.54 0.67-1.54 1.52 0 0.85 0.69 1.54 1.54 1.54 0.85 0 1.54-0.69 1.54-1.54C175.21 3.13 174.52 2.46 173.67 2.46zM174.17 5.05c-0.09-0.09-0.17-0.19-0.25-0.3l-0.41-0.56h-0.16v0.87h-0.39V2.92c0.22-0.01 0.47-0.03 0.66-0.03 0.41 0 0.82 0.16 0.82 0.64 0 0.29-0.21 0.55-0.49 0.63 0.23 0.32 0.45 0.62 0.73 0.91H174.17zM173.56 3.22l-0.22 0.01v0.63h0.22c0.26 0 0.43-0.05 0.43-0.34C174 3.28 173.83 3.21 173.56 3.22z"></path></g></svg></a><div class="gh-nav-cnt u-hide-from-print"><div class="gh-nav-links-container gh-nav-links-container-h u-hide-from-print gh-nav-content-container"><nav aria-label="links" class="gh-nav gh-nav-links gh-nav-h"><ul class="gh-nav-list u-list-reset"><li class="gh-nav-item gh-move-to-spine"><a class="anchor gh-nav-action anchor-default" href="/browse/journals-and-books" data-aa-region="header" data-aa-name="Journals &amp; Books"><span class="anchor-text">Journals &amp; Books</span></a></li></ul></nav><nav aria-label="utilities" class="gh-nav gh-nav-utilities gh-nav-h"><ul class="gh-nav-list u-list-reset"><li class="gh-move-to-spine gh-help-button gh-help-icon gh-nav-item"><div class="popover" id="gh-help-icon-popover"><div id="popover-trigger-gh-help-icon-popover"><input type="hidden" /><button class="button-link gh-nav-help-icon gh-icon-btn button-link-primary" aria-expanded="false" aria-label="ScienceDirect Support Center links" type="button"><svg role="img" focusable="false" viewBox="0 0 114 128" aria-hidden="true" alt="ScienceDirect help page" width="21.375" height="24" class="icon icon-help gh-icon" aria-label="Help"><path d="m57 8c-14.7 0-28.5 5.72-38.9 16.1-10.38 10.4-16.1 24.22-16.1 38.9 0 30.32 24.68 55 55 55 14.68 0 28.5-5.72 38.88-16.1 10.4-10.4 16.12-24.2 16.12-38.9 0-30.32-24.68-55-55-55zm0 1e1c24.82 0 45 20.18 45 45 0 12.02-4.68 23.32-13.18 31.82s-19.8 13.18-31.82 13.18c-24.82 0-45-20.18-45-45 0-12.02 4.68-23.32 13.18-31.82s19.8-13.18 31.82-13.18zm-0.14 14c-11.55 0.26-16.86 8.43-16.86 18v2h1e1v-2c0-4.22 2.22-9.66 8-9.24 5.5 0.4 6.32 5.14 5.78 8.14-1.1 6.16-11.78 9.5-11.78 20.5v6.6h1e1v-5.56c0-8.16 11.22-11.52 12-21.7 0.74-9.86-5.56-16.52-16-16.74-0.39-0.01-0.76-0.01-1.14 0zm-4.86 5e1v1e1h1e1v-1e1h-1e1z"></path></svg></button></div></div></li><li class="gh-search-toggle gh-nav-item search-button-link search-with-button-link"><a class="anchor button-link-primary gh-nav-action gh-icon-btn search-input-fallback-link anchor-default" href="/search" data-aa-button="search-in-header-opened-from-article" aria-label="Opens ScienceDirect Search"><svg role="img" focusable="false" viewBox="0 0 100 128" aria-hidden="true" alt="Search" width="18.75" height="24" class="icon icon-search gh-icon" aria-label="Search"><path d="m19.22 76.91c-5.84-5.84-9.05-13.6-9.05-21.85s3.21-16.01 9.05-21.85c5.84-5.83 13.59-9.05 21.85-9.05 8.25 0 16.01 3.22 21.84 9.05 5.84 5.84 9.05 13.6 9.05 21.85s-3.21 16.01-9.05 21.85c-5.83 5.83-13.59 9.05-21.84 9.05-8.26 0-16.01-3.22-21.85-9.05zm80.33 29.6l-26.32-26.32c5.61-7.15 8.68-15.9 8.68-25.13 0-10.91-4.25-21.17-11.96-28.88-7.72-7.71-17.97-11.96-28.88-11.96s-21.17 4.25-28.88 11.96c-7.72 7.71-11.97 17.97-11.97 28.88s4.25 21.17 11.97 28.88c7.71 7.71 17.97 11.96 28.88 11.96 9.23 0 17.98-3.07 25.13-8.68l26.32 26.32 7.03-7.03"></path></svg></a><a class="link-button link-button-small search-button-outline link-button-primary" href="/search" data-aa-button="search-in-header-opened-from-article" aria-label="Opens ScienceDirect Search"><span class="link-button-text">Search</span><svg role="img" focusable="false" viewBox="0 0 100 128" aria-hidden="true" alt="Search" width="18.75" height="24" class="icon icon-search" aria-label="Search"><path d="m19.22 76.91c-5.84-5.84-9.05-13.6-9.05-21.85s3.21-16.01 9.05-21.85c5.84-5.83 13.59-9.05 21.85-9.05 8.25 0 16.01 3.22 21.84 9.05 5.84 5.84 9.05 13.6 9.05 21.85s-3.21 16.01-9.05 21.85c-5.83 5.83-13.59 9.05-21.84 9.05-8.26 0-16.01-3.22-21.85-9.05zm80.33 29.6l-26.32-26.32c5.61-7.15 8.68-15.9 8.68-25.13 0-10.91-4.25-21.17-11.96-28.88-7.72-7.71-17.97-11.96-28.88-11.96s-21.17 4.25-28.88 11.96c-7.72 7.71-11.97 17.97-11.97 28.88s4.25 21.17 11.97 28.88c7.71 7.71 17.97 11.96 28.88 11.96 9.23 0 17.98-3.07 25.13-8.68l26.32 26.32 7.03-7.03"></path></svg></a></li></ul></nav></div></div><div class="gh-move-to-spine u-hide-from-print gh-institution-item u-margin-s-right"><div class="popover text-s" id="institution-popover"><div id="popover-trigger-institution-popover"><input type="hidden" /><button id="gh-inst-icon-btn" class="gh-icon-btn gh-has-institution" aria-expanded="false" aria-label="Institutional Access"><svg role="img" focusable="false" viewBox="0 0 106 128" aria-hidden="true" alt="Institutional Access" width="19.875" height="24" class="icon icon-institution gh-inst-icon" aria-label="Institution"><path d="m84 98h1e1v1e1h-82v-1e1h1e1v-46h14v46h1e1v-46h14v46h1e1v-46h14v46zm-72-61.14l41-20.84 41 20.84v5.14h-82v-5.14zm92 15.14v-21.26l-51-25.94-51 25.94v21.26h1e1v36h-1e1v3e1h102v-3e1h-1e1v-36h1e1z"></path></svg></button></div></div></div><div class="gh-profile-container gh-move-to-spine u-hide-from-print"><a class="link-button link-button-secondary link-button-small u-margin-s-right" href="/user/register?targetURL=%2Fscience%2Farticle%2Fpii%2FS1047320322001845" id="gh-cta-btn" data-aa-region="header" data-aa-name="Register"><span class="link-button-text">Register</span></a><a class="link-button link-button-primary link-button-small" href="/user/login?targetURL=%2Fscience%2Farticle%2Fpii%2FS1047320322001845&amp;from=globalheader" id="gh-signin-btn" data-aa-region="header" data-aa-name="Sign in"><span class="link-button-text">Sign in</span></a></div><div id="gh-mobile-menu" class="mobile-menu u-hide-from-print"><div class="gh-hamburger u-fill-grey7 u-margin-m-left"><button class="button-link u-flex-center-ver button-link-primary" aria-label="Toggle mobile menu" aria-expanded="false" type="button"><svg class="gh-hamburger-svg-el gh-hamburger-closed" role="img" aria-hidden="true" height="18" width="40"><path d="M0 14h40v2H0zm0-7h40v2H0zm0-7h40v2H0z"></path></svg></button></div><div id="gh-overlay" class="mobile-menu-overlay u-overlay u-display-none" role="button" tabindex="-1"></div><div id="gh-drawer" aria-label="Mobile menu" class="" role="navigation"></div></div></div></header><div class="Article" id="mathjax-container"><div class="sticky-outer-wrapper"><div class="sticky-inner-wrapper " style="position:relative;top:0px;z-index:2"><div id="screen-reader-main-content"></div><div class="accessbar" role="region" aria-label="Download options and search"><div class="accessbar-label"><svg role="img" focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor pdf-icon" aria-label="PDF"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><div class="text">View <strong>PDF</strong></div></div><ul aria-label="PDF Options"><li class="OrderPDF"><a class="link-button accessbar-utility-component accessbar-utility-link link-button-primary" href="/getaccess/pii/S1047320322001845" aria-label="Order PDF"><span class="link-button-text">Order PDF</span></a></li><li class="SelectAnotherInstitution"><a class="link-button accessbar-utility-component accessbar-utility-link link-button-anchor" href="/user/institution/login?targetUrl=%2Fscience%2Farticle%2Fpii%2FS1047320322001845" aria-label="Access through another institution"><span class="link-button-text">Access through another institution</span></a></li></ul><form class="QuickSearch" action="/search#submit" method="get" aria-label="form"><div class="search-input"><div class="search-input-container search-input-container-no-label"><label class="search-input-label"></label><input type="search" id="article-quick-search" name="qs" value="" class="search-input-field" aria-label="undefined " aria-describedby="article-quick-search-description-message" placeholder="Search ScienceDirect" /></div><div class="search-input-message-container"><div aria-live="polite" class="search-input-validation-error"></div><div id="article-quick-search-description-message"></div></div></div><button class="button small u-margin-xs-left button-primary" role="button" aria-disabled="false" type="submit" aria-label="Submit search"><span class="button-text"><svg role="img" focusable="false" viewBox="0 0 100 128" height="20" width="18.75" class="icon icon-search" aria-label="Search"><path d="m19.22 76.91c-5.84-5.84-9.05-13.6-9.05-21.85s3.21-16.01 9.05-21.85c5.84-5.83 13.59-9.05 21.85-9.05 8.25 0 16.01 3.22 21.84 9.05 5.84 5.84 9.05 13.6 9.05 21.85s-3.21 16.01-9.05 21.85c-5.83 5.83-13.59 9.05-21.84 9.05-8.26 0-16.01-3.22-21.85-9.05zm80.33 29.6l-26.32-26.32c5.61-7.15 8.68-15.9 8.68-25.13 0-10.91-4.25-21.17-11.96-28.88-7.72-7.71-17.97-11.96-28.88-11.96s-21.17 4.25-28.88 11.96c-7.72 7.71-11.97 17.97-11.97 28.88s4.25 21.17 11.97 28.88c7.71 7.71 17.97 11.96 28.88 11.96 9.23 0 17.98-3.07 25.13-8.68l26.32 26.32 7.03-7.03"></path></svg></span></button><input type="hidden" name="origin" value="article" /><input type="hidden" name="zone" value="qSearch" /></form></div></div></div><div class="article-wrapper u-padding-s-top grid row"><div class="u-show-from-lg col-lg-6"><div class="TableOfContents text-s" lang="en"></div></div><article class="col-lg-12 col-md-16 pad-left pad-right" role="main" lang="en"><div class="Publication" id="publication"><div class="publication-brand u-show-from-sm"><a class="anchor anchor-default" href="/journal/journal-of-visual-communication-and-image-representation" title="Go to Journal of Visual Communication and Image Representation on ScienceDirect"><span class="anchor-text"><img class="publication-brand-image" src="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/e3753beae449620a3579cc0662544120618e2090/image/elsevier-non-solus.png" alt="Elsevier" /></span></a></div><div class="publication-volume u-text-center"><h2 class="publication-title u-h3" id="publication-title"><a class="anchor publication-title-link anchor-navigation" href="/journal/journal-of-visual-communication-and-image-representation" title="Go to Journal of Visual Communication and Image Representation on ScienceDirect"><span class="anchor-text">Journal of Visual Communication and Image Representation</span></a></h2><div class="text-xs"><a class="anchor anchor-default" href="/journal/journal-of-visual-communication-and-image-representation/vol/89/suppl/C" title="Go to table of contents for this volume/issue"><span class="anchor-text">Volume 89</span></a>, <!-- -->November 2022<!-- -->, 103664</div></div><div class="publication-cover u-show-from-sm"><a class="anchor anchor-default" href="/journal/journal-of-visual-communication-and-image-representation/vol/89/suppl/C"><span class="anchor-text"><img class="publication-cover-image" src="https://ars.els-cdn.com/content/image/1-s2.0-S1047320322X00072-cov150h.gif" alt="Journal of Visual Communication and Image Representation" /></span></a></div></div><h1 id="screen-reader-main-title" class="Head u-font-gulliver u-h2 u-margin-s-ver"><div class="article-dochead"><span>Full Length Article</span></div><span class="title-text">The encoding method of position embeddings in vision transformer</span><a class="anchor workspace-trigger label anchor-default" href="#aep-article-footnote-id1" name="baep-article-footnote-id1"><span class="anchor-text">☆</span></a></h1><div class="Banner" id="banner"><div class="wrapper truncated"><div class="AuthorGroups text-s"><div class="author-group" id="author-group"><span class="sr-only">Author links open overlay panel</span><button class="button-link workspace-trigger button-link-primary" name="bau000001" type="button"><span class="button-link-text"><span class="react-xocs-alternative-link"><span class="given-name">Kai</span> <span class="text surname">Jiang</span></span><svg role="img" focusable="false" viewBox="0 0 102 128" width="20" height="20" class="icon icon-envelope react-xocs-author-icon" aria-label="Envelope"><path d="m55.8 57.2c-1.78 1.31-5.14 1.31-6.9 0l-31.32-23.2h69.54l-31.32 23.19zm-55.8-24.78l42.94 32.62c2.64 1.95 6.02 2.93 9.4 2.93s6.78-0.98 9.42-2.93l40.24-30.7v-10.34h-102zm92 56.48l-18.06-22.74-8.04 5.95 17.38 21.89h-64.54l18.38-23.12-8.04-5.96-19.08 24.02v-37.58l-1e1 -8.46v61.1h102v-59.18l-1e1 8.46v35.62"></path></svg></span></button>, <button class="button-link workspace-trigger button-link-primary" name="bau000002" type="button"><span class="button-link-text"><span class="react-xocs-alternative-link"><span class="given-name">Peng</span> <span class="text surname">Peng</span></span><svg role="img" focusable="false" viewBox="0 0 102 128" width="20" height="20" class="icon icon-envelope react-xocs-author-icon" aria-label="Envelope"><path d="m55.8 57.2c-1.78 1.31-5.14 1.31-6.9 0l-31.32-23.2h69.54l-31.32 23.19zm-55.8-24.78l42.94 32.62c2.64 1.95 6.02 2.93 9.4 2.93s6.78-0.98 9.42-2.93l40.24-30.7v-10.34h-102zm92 56.48l-18.06-22.74-8.04 5.95 17.38 21.89h-64.54l18.38-23.12-8.04-5.96-19.08 24.02v-37.58l-1e1 -8.46v61.1h102v-59.18l-1e1 8.46v35.62"></path></svg></span></button>, <button class="button-link workspace-trigger button-link-primary" name="bau000003" type="button"><span class="button-link-text"><span class="react-xocs-alternative-link"><span class="given-name">Youzao</span> <span class="text surname">Lian</span></span><svg role="img" focusable="false" viewBox="0 0 102 128" width="20" height="20" class="icon icon-envelope react-xocs-author-icon" aria-label="Envelope"><path d="m55.8 57.2c-1.78 1.31-5.14 1.31-6.9 0l-31.32-23.2h69.54l-31.32 23.19zm-55.8-24.78l42.94 32.62c2.64 1.95 6.02 2.93 9.4 2.93s6.78-0.98 9.42-2.93l40.24-30.7v-10.34h-102zm92 56.48l-18.06-22.74-8.04 5.95 17.38 21.89h-64.54l18.38-23.12-8.04-5.96-19.08 24.02v-37.58l-1e1 -8.46v61.1h102v-59.18l-1e1 8.46v35.62"></path></svg></span></button>, <button class="button-link workspace-trigger button-link-primary" name="bau000004" type="button"><span class="button-link-text"><span class="react-xocs-alternative-link"><span class="given-name">Weisheng</span> <span class="text surname">Xu</span></span><svg role="img" focusable="false" viewBox="0 0 106 128" width="20" height="20" class="icon icon-person react-xocs-author-icon" aria-label="Person"><path d="m11.07 1.2e2l0.84-9.29c1.97-18.79 23.34-22.93 41.09-22.93 17.74 0 39.11 4.13 41.08 22.84l0.84 9.38h10.04l-0.93-10.34c-2.15-20.43-20.14-31.66-51.03-31.66s-48.89 11.22-51.05 31.73l-0.91 10.27h10.03m41.93-102.29c-9.72 0-18.24 8.69-18.24 18.59 0 13.67 7.84 23.98 18.24 23.98s18.24-10.31 18.24-23.98c0-9.9-8.52-18.59-18.24-18.59zm0 52.29c-15.96 0-28-14.48-28-33.67 0-15.36 12.82-28.33 28-28.33s28 12.97 28 28.33c0 19.19-12.04 33.67-28 33.67"></path></svg><svg role="img" focusable="false" viewBox="0 0 102 128" width="20" height="20" class="icon icon-envelope react-xocs-author-icon" aria-label="Envelope"><path d="m55.8 57.2c-1.78 1.31-5.14 1.31-6.9 0l-31.32-23.2h69.54l-31.32 23.19zm-55.8-24.78l42.94 32.62c2.64 1.95 6.02 2.93 9.4 2.93s6.78-0.98 9.42-2.93l40.24-30.7v-10.34h-102zm92 56.48l-18.06-22.74-8.04 5.95 17.38 21.89h-64.54l18.38-23.12-8.04-5.96-19.08 24.02v-37.58l-1e1 -8.46v61.1h102v-59.18l-1e1 8.46v35.62"></path></svg></span></button></div></div></div><button class="button-link button-link-secondary u-margin-s-ver text-s show-more-button" id="show-more-btn" type="button" data-aa-button="icon-expand"><span class="button-link-text">Show more</span><svg role="img" focusable="false" viewBox="0 0 92 128" height="20" width="17.25" class="icon icon-navigate-down" aria-label="Navigate Down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button><div class="banner-options u-padding-xs-bottom text-s"><button class="button-link AddToMendeley u-margin-s-right u-show-inline-from-md button-link-primary" type="button"><svg role="img" focusable="false" viewBox="0 0 86 128" height="16" width="16" class="icon icon-plus" aria-label="Plus"><path d="m48 58v-38h-1e1v38h-38v1e1h38v38h1e1v-38h38v-1e1z"></path></svg><span class="button-link-text">Add to Mendeley</span></button><div class="Social u-display-inline-block" id="social"><div class="popover social-popover" id="social-popover"><div id="popover-trigger-social-popover"><button class="button-link u-margin-s-right button-link-primary" aria-expanded="false" aria-haspopup="true" type="button"><svg role="img" focusable="false" viewBox="0 0 128 128" height="16" width="16" class="icon icon-share" aria-label="Share"><path d="m9e1 112c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12-5.38 12-12 12zm-66-36c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12-5.38 12-12 12zm66-6e1c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm0 62c-6.56 0-12.44 2.9-16.48 7.48l-28.42-15.28c0.58-1.98 0.9-4.04 0.9-6.2s-0.32-4.22-0.9-6.2l28.42-15.28c4.04 4.58 9.92 7.48 16.48 7.48 12.14 0 22-9.86 22-22s-9.86-22-22-22-22 9.86-22 22c0 1.98 0.28 3.9 0.78 5.72l-28.64 15.38c-4.02-4.34-9.76-7.1-16.14-7.1-12.14 0-22 9.86-22 22s9.86 22 22 22c6.38 0 12.12-2.76 16.14-7.12l28.64 15.38c-0.5 1.84-0.78 3.76-0.78 5.74 0 12.14 9.86 22 22 22s22-9.86 22-22-9.86-22-22-22z"></path></svg><span class="button-link-text">Share</span></button></div></div></div><div class="ExportCitation u-display-inline-block" id="export-citation"><div class="popover export-citation-popover" id="export-citation-popover"><div id="popover-trigger-export-citation-popover"><button class="button-link button-link-primary" aria-expanded="false" aria-haspopup="true" type="button"><svg role="img" focusable="false" viewBox="0 0 106 128" height="16" width="16" class="icon icon-cited-by-66" aria-label="Cited By"><path xmlns="http://www.w3.org/2000/svg" d="m2 58.78v47.22h44v-42h-34v-5.22c0-18.5 17.08-26.78 34-26.78v-1e1c-25.9 0-44 15.12-44 36.78zm1e2 -26.78v-1e1c-25.9 0-44 15.12-44 36.78v47.22h44v-42h-34v-5.22c0-18.5 17.08-26.78 34-26.78z"></path></svg><span class="button-link-text">Cite</span></button></div></div></div></div></div><div class="ArticleIdentifierLinks u-margin-xs-bottom text-xs" id="article-identifier-links"><a class="anchor doi anchor-default anchor-external-link" href="https://doi.org/10.1016/j.jvcir.2022.103664" target="_blank" rel="noreferrer noopener" aria-label="Persistent link using digital object identifier" title="Persistent link using digital object identifier"><span class="anchor-text">https://doi.org/10.1016/j.jvcir.2022.103664</span></a><a class="anchor rights-and-content anchor-default anchor-external-link" href="https://s100.copyright.com/AppDispatchServlet?publisherName=ELS&amp;contentID=S1047320322001845&amp;orderBeanReset=true" target="_blank" rel="noreferrer noopener"><span class="anchor-text">Get rights and content</span></a></div><section class="ReferencedArticles"></section><section class="ReferencedArticles"></section><div class="PageDivider"></div><div class="Abstracts u-font-gulliver text-s" id="abstracts"><div class="abstract author-highlights" id="d1e824"><h2 class="section-title u-h4 u-margin-l-top u-margin-xs-bottom">Highlights</h2><div id="d1e827"><p id="d1e828"><dl class="list"><dt class="list-label">•</dt><dd class="list-description"><p id="d1e834">Position Embeddings are the linear combination of Gabor Filters and Edge Markers.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="d1e839">The main part of the positional embeddings is input-independent.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="d1e844">Relative position embeddings requires adding edge markers to the value matrix.</p></dd></dl></p></div></div><div class="abstract author" id="d1e816"><h2 class="section-title u-h4 u-margin-l-top u-margin-xs-bottom">Abstract</h2><div id="d1e819"><p id="d1e820">In contrast to Convolutional Neural Networks (CNNs), Vision Transformers (ViT) cannot capture sequence ordering of input tokens and require position embeddings. As a learnable fixed-dimension vector, the position embedding improves accuracy while limiting the migration of the model between different input sizes. Hence, this paper conducts an empirical study on position embeddings of pre-trained models, which mainly focuses on two questions: (1) What do the position embeddings learn from training? (2) How do the position embeddings affect the self-attention modules?</p><p id="d1e822">This paper analyzes the pattern of position embedding in pre-trained models and finds that the linear combination of Gabor filters and edge markers can fit the learned position embeddings well. The Gabor filters and edge markers can occupy some channels to append the position information, and the edge markers have flowed to values in self-attention modules. The experimental results can guide future work to choose suitable position embeddings.</p></div></div></div><ul id="issue-navigation" class="issue-navigation u-margin-s-bottom u-bg-grey1"><li class="previous move-left u-padding-s-ver u-padding-s-left"><button class="button-alternative button-alternative-tertiary" disabled="" type="button"><svg role="img" focusable="false" viewBox="0 0 54 128" width="10.125" height="24" class="icon icon-navigate-left u-fill-grey8" aria-label="Navigate Left"><path d="m1 61l45-45 7 7-38 38 38 38-7 7z"></path></svg><span class="button-alternative-text">Previous<!-- --> <span class="extra-detail-1">article</span><span class="extra-detail-2"> in issue</span></span></button></li><li class="next move-right u-padding-s-ver u-padding-s-right"><button class="button-alternative button-alternative-tertiary" disabled="" type="button"><span class="button-alternative-text">Next<!-- --> <span class="extra-detail-1">article</span><span class="extra-detail-2"> in issue</span></span><svg role="img" focusable="false" viewBox="0 0 54 128" width="10.125" height="24" class="icon icon-navigate-right u-fill-grey8" aria-label="Navigate Right"><path d="m1 99l38-38-38-38 7-7 45 45-45 45z"></path></svg></button></li></ul><div class="Keywords u-font-gulliver text-s"><div id="d1e847" class="keywords-section"><h2 class="section-title u-h4 u-margin-l-top u-margin-xs-bottom">Keywords</h2><div id="d1e850" class="keyword"><span>Vision transformer</span></div><div id="d1e853" class="keyword"><span>Position embeddings</span></div><div id="d1e856" class="keyword"><span>Gabor filters</span></div></div></div><div class="related-content-links u-hide-from-md"><button class="button button-anchor" role="button" aria-disabled="false" type="button"><span class="button-text">Recommended articles</span></button></div><div class="text-content u-font-gulliver"><section id="da1"><h2 id="d1e860" class="u-h4 u-margin-l-top u-margin-xs-bottom">Data availability</h2><p id="d1e862">Data will be made available on request.</p></section></div><div class="Tail text-s"></div><div id="section-cited-by"><section class="ListArticles preview"><div class="PageDivider"></div><header id="citing-articles-header"><h2 class="u-h4 u-margin-l-ver u-font-gulliver">Cited by (0)</h2></header><div aria-describedby="citing-articles-header"></div></section></div><div class="Footnotes text-xs"><dl class="footnote"><dt class="footnote-label"><a class="anchor u-padding-s-hor u-padding-xs u-display-inline-block anchor-default" href="#baep-article-footnote-id1"><span class="anchor-text"><sup>☆</sup></span></a></dt><dd class="footnote-detail u-padding-xs-top"><p id="d1e751">This paper has been recommended for acceptance by Zicheng Liu.</p></dd></dl></div><a class="anchor full-text-link text-s anchor-default" href="/science/article/pii/S1047320322001845" aria-disabled="true" tabindex="-1"><span class="anchor-text">View full text</span></a><div class="Copyright"><span class="copyright-line">© 2022 Elsevier Inc. All rights reserved.</span></div></article><div class="u-show-from-md col-lg-6 col-md-8 pad-right"><aside class="RelatedContent" aria-label="Related content"><section class="SidePanel u-margin-s-bottom"><header id="recommended-articles-header" class="side-panel-header u-margin-s-bottom"><button class="button-link side-panel-toggle is-up button-link-primary" aria-expanded="true" data-aa-button="sd:product:journal:article:location=recommended-articles:type=close" type="button"><span class="button-link-text"><h2 class="section-title u-h4"><span class="side-panel-title-text">Recommended articles</span></h2></span><svg role="img" focusable="false" viewBox="0 0 92 128" width="24" height="24" class="icon icon-navigate-down" aria-label="Navigate Down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></header><div class="" aria-hidden="false" aria-describedby="recommended-articles-header"><div class="u-margin-s-bottom"><span class="text-xs">No articles found.</span></div></div></section><section class="SidePanel u-margin-s-bottom hidden"><header id="metrics-header" class="side-panel-header u-margin-s-bottom"><button class="button-link side-panel-toggle is-up button-link-primary" aria-expanded="true" type="button"><span class="button-link-text"><h2 class="section-title u-h4"><span class="side-panel-title-text">Article Metrics</span></h2></span><svg role="img" focusable="false" viewBox="0 0 92 128" width="24" height="24" class="icon icon-navigate-down" aria-label="Navigate Down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></header><div class="" aria-hidden="false" aria-describedby="metrics-header"><a href="https://plu.mx/plum/a/?doi=10.1016/j.jvcir.2022.103664" class="plumx-summary plum-sciencedirect-theme" data-pass-hidden-categories="true" data-hide-usage="true" data-orientation="vertical" data-hide-print="true" data-site="plum" data-on-success="onMetricsWidgetSuccess">View article metrics</a></div></section></aside></div></div><div></div></div></div><footer role="contentinfo" class="els-footer u-bg-white text-xs u-padding-s-hor u-padding-m-hor-from-sm u-padding-l-hor-from-md u-padding-l-ver u-margin-l-top u-margin-xl-top-from-sm u-margin-l-top-from-md"><div class="els-footer-elsevier u-margin-m-bottom u-margin-0-bottom-from-md u-margin-s-right u-margin-m-right-from-md u-margin-l-right-from-lg"><a class="anchor anchor-default" href="https://www.elsevier.com/" aria-label="Elsevier home page (opens in a new tab)" target="_blank" rel="nofollow"><span class="anchor-text"><img class="footer-logo" src="https://sdfestaticassets-us-east-1.sciencedirectassets.com/shared-assets/47/images/elsevier-non-solus-new-with-wordmark.svg" alt="Elsevier logo with wordmark" height="64" width="58" loading="lazy" /></span></a></div><div class="els-footer-content"><div class="u-remove-if-print"><ul class="els-footer-links u-margin-xs-bottom" style="list-style:none"><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="https://www.elsevier.com/solutions/sciencedirect" id="els-footer-about-science-direct" target="_blank" rel="nofollow"><span class="anchor-text">About ScienceDirect</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="/user/institution/login?targetURL=" id="els-footer-remote-access" target="_blank" rel="nofollow"><span class="anchor-text">Remote access</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="https://sd-cart.elsevier.com/?" id="els-footer-shopping-cart" target="_blank" rel="nofollow"><span class="anchor-text">Shopping cart</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="http://elsmediakits.com" id="els-footer-advertise" target="_blank" rel="nofollow"><span class="anchor-text">Advertise</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="https://service.elsevier.com/app/contact/supporthub/sciencedirect/" id="els-footer-contact-support" target="_blank" rel="nofollow"><span class="anchor-text">Contact and support</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="https://www.elsevier.com/legal/elsevier-website-terms-and-conditions" id="els-footer-terms-condition" target="_blank" rel="nofollow"><span class="anchor-text">Terms and conditions</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md anchor-default" href="https://www.elsevier.com/legal/privacy-policy" id="els-footer-privacy-policy" target="_blank" rel="nofollow"><span class="anchor-text">Privacy policy</span></a></li></ul></div><p id="els-footer-cookie-message" class="u-remove-if-print">We use cookies to help provide and enhance our service and tailor content and ads. By continuing you agree to the<!-- --> <a class="anchor u-clr-grey8 u-margin-0-right anchor-default" href="https://www.sciencedirect.com/legal/use-of-cookies" target="_blank" rel="nofollow"><span class="anchor-text"><strong>use of cookies</strong></span></a>.</p><p id="els-footer-copyright">Copyright © <!-- -->2023<!-- --> Elsevier B.V. or its licensors or contributors.<!-- --> <span class="u-remove-if-print">ScienceDirect® is a registered trademark of Elsevier B.V.</span></p><p class="u-remove-if-not-print">ScienceDirect® is a registered trademark of Elsevier B.V.</p></div><div class="els-footer-relx u-margin-0-top u-margin-m-top-from-xs u-margin-0-top-from-md"><a class="anchor anchor-default" href="https://www.relx.com/" aria-label="RELX home page (opens in a new tab)" id="els-footer-relx" target="_blank" rel="nofollow"><span class="anchor-text"><img loading="lazy" src="https://sdfestaticassets-us-east-1.sciencedirectassets.com/shared-assets/60/images/logo-relx-tm.svg" width="93" height="20" alt="RELX group home page" /></span></a></div></footer></div></div></div></div>
<script type="application/json" data-iso-key="_0">{"abstracts":{"content":[{"$$":[{"$":{"id":"d1e817"},"#name":"section-title","_":"Abstract"},{"$$":[{"$":{"view":"all","id":"d1e820"},"#name":"simple-para","_":"In contrast to Convolutional Neural Networks (CNNs), Vision Transformers (ViT) cannot capture sequence ordering of input tokens and require position embeddings. As a learnable fixed-dimension vector, the position embedding improves accuracy while limiting the migration of the model between different input sizes. Hence, this paper conducts an empirical study on position embeddings of pre-trained models, which mainly focuses on two questions: (1) What do the position embeddings learn from training? (2) How do the position embeddings affect the self-attention modules?"},{"$":{"view":"all","id":"d1e822"},"#name":"simple-para","_":"This paper analyzes the pattern of position embedding in pre-trained models and finds that the linear combination of Gabor filters and edge markers can fit the learned position embeddings well. The Gabor filters and edge markers can occupy some channels to append the position information, and the edge markers have flowed to values in self-attention modules. The experimental results can guide future work to choose suitable position embeddings."}],"$":{"view":"all","id":"d1e819"},"#name":"abstract-sec"}],"$":{"view":"all","id":"d1e816","class":"author"},"#name":"abstract"},{"$$":[{"$":{"id":"d1e825"},"#name":"section-title","_":"Highlights"},{"$$":[{"$$":[{"$$":[{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"d1e834"},"#name":"para","_":"Position Embeddings are the linear combination of Gabor Filters and Edge Markers."}],"$":{"id":"d1e831"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"d1e839"},"#name":"para","_":"The main part of the positional embeddings is input-independent."}],"$":{"id":"d1e836"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"d1e844"},"#name":"para","_":"Relative position embeddings requires adding edge markers to the value matrix."}],"$":{"id":"d1e841"},"#name":"list-item"}],"$":{"id":"d1e830"},"#name":"list"}],"$":{"view":"all","id":"d1e828"},"#name":"simple-para"}],"$":{"view":"all","id":"d1e827"},"#name":"abstract-sec"}],"$":{"view":"all","id":"d1e824","class":"author-highlights"},"#name":"abstract"}],"floats":[],"footnotes":[],"attachments":[]},"accessbarConfig":{"fallback":false,"id":"accessbar","version":"0.0.1","analytics":{"location":"sd:accessbar","eventName":"ctaImpression"},"label":{"id":"AccessbarLabel","label":"View&nbsp;**PDF**"},"ariaLabel":{"accessbar":"Download options and search","componentsList":"PDF Options"},"banner":{"id":"Banner"},"components":[{"id":"ClinicalKey","analytics":[{"ids":["accessbar:clinicalkeycta:inst-known:sdcust-unknown:ent-no:ra-no:source-linkinghub:method-ip"],"eventName":"ctaClick"}],"label":"Access through&nbsp;**ClinicalKey**"},{"id":"OrderPDF","analytics":[{"ids":["accessbar:order-document"],"eventName":"ctaClick"}],"label":"Order PDF","href":"/getaccess/pii/S1047320322001845"},{"id":"SelectAnotherInstitution","analytics":[{"ids":["accessbar:another-institution"],"eventName":"ctaClick"}],"label":"Access through another institution","href":"/user/institution/login?targetUrl=%2Fscience%2Farticle%2Fpii%2FS1047320322001845"}],"search":{"inputPlaceHolder":"Search ScienceDirect","ariaLabel":{"input":"Search ScienceDirect","submit":"Submit search"},"formAction":"/search#submit","id":"QuickSearch","analytics":[{"ids":["accessbar:search"],"eventName":"searchStart"}]}},"adobeTarget":{},"article":{"accessOptions":{"linkType":"ORDER","linkUrl":"/getaccess/pii/S1047320322001845"},"analyticsMetadata":{"accountId":"40658","accountName":"Ikerlan Technological Research Centre","loginStatus":"anonymous","userId":"729875","isLoggedIn":false},"article-number":"103664","cid":"272324","content-family":"serial","copyright-line":"© 2022 Elsevier Inc. All rights reserved.","cover-date-years":["2022"],"cover-date-start":"2022-11-01","cover-date-text":"November 2022","document-subtype":"fla","document-type":"article","eid":"1-s2.0-S1047320322001845","doi":"10.1016/j.jvcir.2022.103664","first-fp":"103664","hub-eid":"1-s2.0-S1047320322X00072","issuePii":"S1047320322X00072","item-weight":"FULL-TEXT","language":"en","last-author":{"#name":"last-author","$":{"xmlns:ce":true,"xmlns:dm":true,"xmlns:sb":true},"$$":[{"#name":"author","$":{"author-id":"S1047320322001845-c7126e311c990fa414061c3a75fc72ed","id":"au000004"},"$$":[{"#name":"given-name","_":"Weisheng"},{"#name":"surname","_":"Xu"},{"#name":"cross-ref","$":{"id":"d1e786","refid":"cor1"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"⁎"}]},{"#name":"encoded-e-address","__encoded":"JTdCJTIyJTIzbmFtZSUyMiUzQSUyMmUtYWRkcmVzcyUyMiUyQyUyMiUyNCUyMiUzQSU3QiUyMnhtbG5zJTNBeGxpbmslMjIlM0F0cnVlJTJDJTIyaWQlMjIlM0ElMjJlYTQlMjIlMkMlMjJ0eXBlJTIyJTNBJTIyZW1haWwlMjIlMkMlMjJocmVmJTIyJTNBJTIybWFpbHRvJTNBeHV3ZWlzaGVuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0QlMkMlMjJfJTIyJTNBJTIyeHV3ZWlzaGVuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0Q="}]}]},"normalized-first-auth-initial":"K","normalized-first-auth-surname":"JIANG","open-research":{"#name":"open-research","$":{"xmlns:xocs":true},"$$":[{"#name":"or-embargo-opening-date","_":"2024-10-29T00:00:00.000Z"}]},"pages":[{"first-page":"103664"}],"pii":"S1047320322001845","self-archiving":{"#name":"self-archiving","$":{"xmlns:xocs":true},"$$":[{"#name":"sa-start-date","_":"2024-10-29T00:00:00.000Z"},{"#name":"sa-user-license","_":"http://creativecommons.org/licenses/by-nc-nd/4.0/"}]},"srctitle":"Journal of Visual Communication and Image Representation","suppl":"C","timestamp":"2023-01-28T07:13:22.059476Z","title":{"content":[{"#name":"article-footnote","$":{"id":"aep-article-footnote-id1"},"$$":[{"#name":"label","_":"☆"},{"#name":"note-para","$":{"id":"d1e751","view":"all"},"_":"This paper has been recommended for acceptance by Zicheng Liu."}]},{"#name":"dochead","$":{"id":"d1e753"},"$$":[{"#name":"textfn","_":"Full Length Article"}]},{"#name":"title","$":{"id":"d1e756"},"_":"The encoding method of position embeddings in vision transformer"}],"floats":[],"footnotes":[{"#name":"article-footnote","$":{"id":"aep-article-footnote-id1"},"$$":[{"#name":"label","_":"☆"},{"#name":"note-para","$":{"id":"d1e751","view":"all"},"_":"This paper has been recommended for acceptance by Zicheng Liu."}]}],"attachments":[]},"vol-first":"89","vol-iss-suppl-text":"Volume 89","userSettings":{"forceAbstract":false,"creditCardPurchaseAllowed":true,"blockFullTextForAnonymousAccess":false,"disableWholeIssueDownload":false,"preventTransactionalAccess":true,"preventDocumentDelivery":false},"contentType":"JL","crossmark":true,"document-references":43,"freeHtmlGiven":false,"ssoUrls":["//acw.sciencedirect.com/SSOCore/update?acw=36f0f3f0698d1645aa999db9a8856f88777agxrqb%7C%24%7C5AE0DC3264099BBF86BC1F3B4F2BE285E32CB9ED0760C6625466960FF524379A2858FC5F8D9CE550400E8A3473B4FE37B33A670E0FCAE3770E9169905BBD791CAFE9C31A29ED2080B6DA1F7CB1786ABB&utt=4401-9aba846a6814398c314-cbaeed67c5ebc5c3-pD9","//acw.elsevier.com/SSOCore/update?acw=36f0f3f0698d1645aa999db9a8856f88777agxrqb%7C%24%7C5AE0DC3264099BBF86BC1F3B4F2BE285E32CB9ED0760C6625466960FF524379A2858FC5F8D9CE550400E8A3473B4FE37B33A670E0FCAE3770E9169905BBD791CAFE9C31A29ED2080B6DA1F7CB1786ABB&utt=4401-9aba846a6814398c314-cbaeed67c5ebc5c3-pD9"],"userProfile":{"departmentName":"library","accessType":"IPRANGE","accountId":"40658","webUserId":"729875","accountName":"Ikerlan Technological Research Centre","departmentId":"59628","userType":"NORMAL","hasMultipleOrganizations":false},"access":{"openAccess":false,"openArchive":false},"aipType":"none","articleEntitlement":{"entitled":false,"isCasaUser":false,"usageInfo":"(729875,U|59628,D|40658,A|34,P|2,PL)(SDFE,CON|36f0f3f0698d1645aa999db9a8856f88777agxrqb,SSO|ANON_IP,ACCESS_TYPE)"},"crawlerInformation":{"canCrawlPDFContent":false,"isCrawler":false},"dates":{"Available online":"14 October 2022","Received":"25 February 2022","Revised":["22 September 2022"],"Accepted":"9 October 2022","Publication date":"1 November 2022","Version of Record":"29 October 2022"},"downloadFullIssue":false,"entitlementReason":"unsubscribed","hasBody":true,"has-large-authors":false,"hasScholarlyAbstract":true,"headerConfig":{"contactUrl":"https://service.elsevier.com/app/contact/supporthub/sciencedirect/","userName":"","userEmail":"","orgName":"Ikerlan Technological Research Centre","webUserId":"729875","libraryBanner":{},"shib_regUrl":"","tick_regUrl":"","recentInstitutions":[],"canActivatePersonalization":false,"hasInstitutionalAssociation":true,"hasMultiOrg":false,"userType":"IPRANGE","userAnonymity":"ANON_IP","allowCart":false,"environment":"prod","cdnAssetsHost":"https://sdfestaticassets-us-east-1.sciencedirectassets.com"},"isCorpReq":false,"isPdfFullText":false,"issn":"10473203","issn-primary-formatted":"1047-3203","issRange":"","isThirdParty":false,"pageCount":10,"publication-content":{"noElsevierLogo":false,"imprintPublisher":{"displayName":"Academic Press","id":"350"},"isSpecialIssue":false,"isSampleIssue":false,"transactionsBlocked":false,"publicationOpenAccess":{"oaStatus":"","oaArticleCount":45,"openArchiveStatus":false,"openArchiveArticleCount":22,"openAccessStartDate":"","oaAllowsAuthorPaid":true},"issue-cover":{"attachment":[{"attachment-eid":"1-s2.0-S1047320322X00072-cov200h.gif","file-basename":"cov200h","extension":"gif","filename":"cov200h.gif","ucs-locator":["https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1047320322X00072/cover/DOWNSAMPLED200/image/gif/0b6d04458a76379af0e2ff3e841841fc/cov200h.gif"],"attachment-type":"IMAGE-COVER-H200","filesize":"13016","pixel-height":"200","pixel-width":"150"},{"attachment-eid":"1-s2.0-S1047320322X00072-cov150h.gif","file-basename":"cov150h","extension":"gif","filename":"cov150h.gif","ucs-locator":["https://s3-eu-west-1.amazonaws.com/prod-ucs-content-store-eu-west/content/pii:S1047320322X00072/cover/DOWNSAMPLED150/image/gif/5a751b95e28191f5329488c79abab4bc/cov150h.gif"],"attachment-type":"IMAGE-COVER-H150","filesize":"8853","pixel-height":"150","pixel-width":"113"}]},"smallCoverUrl":"https://ars.els-cdn.com/content/image/S10473203.gif","title":"journal-of-visual-communication-and-image-representation","contentTypeCode":"JL","images":{"coverImage":"https://ars.els-cdn.com/content/image/1-s2.0-S1047320322X00072-cov150h.gif","logo":"https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/e3753beae449620a3579cc0662544120618e2090/image/elsevier-non-solus.png","logoAltText":"Elsevier"},"publicationCoverImageUrl":"https://ars.els-cdn.com/content/image/1-s2.0-S1047320322X00072-cov150h.gif"},"useEnhancedReader":true,"volRange":"89","features":["aamAttachments","keywords","data-availability","references","preview"],"titleString":"The encoding method of position embeddings in vision transformer","usesAbstractUrl":true,"renderingMode":"Abstract","isAbstract":true,"isContentVisible":false,"ajaxLinks":{"referredToBy":true,"toc":true,"recommendations":true,"citingArticles":true,"authorMetadata":true},"eligibleForUniversalPdf":true,"pdfEmbed":false,"displayViewFullText":false},"authors":{"content":[{"#name":"author-group","$":{"id":"d1e759"},"$$":[{"#name":"author","$":{"author-id":"S1047320322001845-659cec38c1b34674178605b291031acd","id":"au000001"},"$$":[{"#name":"given-name","_":"Kai"},{"#name":"surname","_":"Jiang"},{"#name":"encoded-e-address","__encoded":"JTdCJTIyJTIzbmFtZSUyMiUzQSUyMmUtYWRkcmVzcyUyMiUyQyUyMiUyNCUyMiUzQSU3QiUyMnhtbG5zJTNBeGxpbmslMjIlM0F0cnVlJTJDJTIyaWQlMjIlM0ElMjJlYTElMjIlMkMlMjJ0eXBlJTIyJTNBJTIyZW1haWwlMjIlMkMlMjJocmVmJTIyJTNBJTIybWFpbHRvJTNBamtqaWFuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0QlMkMlMjJfJTIyJTNBJTIyamtqaWFuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0Q="}]},{"#name":"author","$":{"author-id":"S1047320322001845-ff505cf6473b70b9d854c52c7eb6b125","id":"au000002"},"$$":[{"#name":"given-name","_":"Peng"},{"#name":"surname","_":"Peng"},{"#name":"encoded-e-address","__encoded":"JTdCJTIyJTIzbmFtZSUyMiUzQSUyMmUtYWRkcmVzcyUyMiUyQyUyMiUyNCUyMiUzQSU3QiUyMnhtbG5zJTNBeGxpbmslMjIlM0F0cnVlJTJDJTIyaWQlMjIlM0ElMjJlYTIlMjIlMkMlMjJ0eXBlJTIyJTNBJTIyZW1haWwlMjIlMkMlMjJocmVmJTIyJTNBJTIybWFpbHRvJTNBcGVuZy5wZW5nJTQwdG9uZ2ppLmVkdS5jbiUyMiU3RCUyQyUyMl8lMjIlM0ElMjJwZW5nLnBlbmclNDB0b25namkuZWR1LmNuJTIyJTdE"}]},{"#name":"author","$":{"author-id":"S1047320322001845-f5fbcc9301c56e96cda7437a2b2e4134","id":"au000003"},"$$":[{"#name":"given-name","_":"Youzao"},{"#name":"surname","_":"Lian"},{"#name":"encoded-e-address","__encoded":"JTdCJTIyJTIzbmFtZSUyMiUzQSUyMmUtYWRkcmVzcyUyMiUyQyUyMiUyNCUyMiUzQSU3QiUyMnhtbG5zJTNBeGxpbmslMjIlM0F0cnVlJTJDJTIyaWQlMjIlM0ElMjJlYTMlMjIlMkMlMjJ0eXBlJTIyJTNBJTIyZW1haWwlMjIlMkMlMjJocmVmJTIyJTNBJTIybWFpbHRvJTNBeW91emFvbGlhbiU0MHRvbmdqaS5lZHUuY24lMjIlN0QlMkMlMjJfJTIyJTNBJTIyeW91emFvbGlhbiU0MHRvbmdqaS5lZHUuY24lMjIlN0Q="}]},{"#name":"author","$":{"author-id":"S1047320322001845-c7126e311c990fa414061c3a75fc72ed","id":"au000004"},"$$":[{"#name":"given-name","_":"Weisheng"},{"#name":"surname","_":"Xu"},{"#name":"cross-ref","$":{"id":"d1e786","refid":"cor1"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"⁎"}]},{"#name":"encoded-e-address","__encoded":"JTdCJTIyJTIzbmFtZSUyMiUzQSUyMmUtYWRkcmVzcyUyMiUyQyUyMiUyNCUyMiUzQSU3QiUyMnhtbG5zJTNBeGxpbmslMjIlM0F0cnVlJTJDJTIyaWQlMjIlM0ElMjJlYTQlMjIlMkMlMjJ0eXBlJTIyJTNBJTIyZW1haWwlMjIlMkMlMjJocmVmJTIyJTNBJTIybWFpbHRvJTNBeHV3ZWlzaGVuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0QlMkMlMjJfJTIyJTNBJTIyeHV3ZWlzaGVuZyU0MHRvbmdqaS5lZHUuY24lMjIlN0Q="}]},{"#name":"affiliation","$":{"affiliation-id":"S1047320322001845-d0f3a01f1e1cff44bb40a8f4b72cf4ac","id":"aff1"},"$$":[{"#name":"textfn","_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University, Caoan Highway No. 4800, Shanghai 201804, China"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University"},{"#name":"address-line","_":"Caoan Highway No. 4800"},{"#name":"city","_":"Shanghai"},{"#name":"postal-code","_":"201804"},{"#name":"country","_":"China"}]},{"#name":"source-text","$":{"id":"afs44"},"_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University, Caoan Highway No. 4800, Shanghai 201804, China"}]},{"#name":"correspondence","$":{"id":"cor1"},"$$":[{"#name":"label","_":"⁎"},{"#name":"text","_":"Corresponding author."}]}]}],"floats":[],"footnotes":[],"affiliations":{"aff1":{"#name":"affiliation","$":{"affiliation-id":"S1047320322001845-d0f3a01f1e1cff44bb40a8f4b72cf4ac","id":"aff1"},"$$":[{"#name":"textfn","_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University, Caoan Highway No. 4800, Shanghai 201804, China"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University"},{"#name":"address-line","_":"Caoan Highway No. 4800"},{"#name":"city","_":"Shanghai"},{"#name":"postal-code","_":"201804"},{"#name":"country","_":"China"}]},{"#name":"source-text","$":{"id":"afs44"},"_":"Department of Control Science and Engineering, College of Electronic and Information Engineering, Tongji University, Caoan Highway No. 4800, Shanghai 201804, China"}]}},"correspondences":{"cor1":{"#name":"correspondence","$":{"id":"cor1"},"$$":[{"#name":"label","_":"⁎"},{"#name":"text","_":"Corresponding author."}]}},"attachments":[],"scopusAuthorIds":{},"articles":{}},"authorMetadata":[],"banner":{"expanded":false},"biographies":{},"body":{},"browser":{"name":"Firefox","engine":"Gecko"},"chapters":{"toc":[],"isLoading":false},"changeViewLinks":{"showFullTextLink":true,"showAbstractLink":false},"citingArticles":{},"combinedContentItems":{"content":[{"#name":"keywords","$$":[{"#name":"keywords","$":{"xmlns:ce":true,"xmlns:aep":true,"xmlns:xoe":true,"xmlns:mml":true,"xmlns:xs":true,"xmlns:xlink":true,"xmlns:xocs":true,"xmlns:tb":true,"xmlns:xsi":true,"xmlns:cals":true,"xmlns:sb":true,"xmlns:sa":true,"xmlns:ja":true,"xmlns":true,"class":"keyword","id":"d1e847","view":"all"},"$$":[{"#name":"section-title","$":{"id":"d1e848"},"_":"Keywords"},{"#name":"keyword","$":{"id":"d1e850"},"$$":[{"#name":"text","_":"Vision transformer"}]},{"#name":"keyword","$":{"id":"d1e853"},"$$":[{"#name":"text","_":"Position embeddings"}]},{"#name":"keyword","$":{"id":"d1e856"},"$$":[{"#name":"text","_":"Gabor filters"}]}]}]},{"#name":"data-availability","$":{"xmlns:ce":true,"xmlns:aep":true,"xmlns:xoe":true,"xmlns:mml":true,"xmlns:xs":true,"xmlns:xlink":true,"xmlns:xocs":true,"xmlns:tb":true,"xmlns:xsi":true,"xmlns:cals":true,"xmlns:sb":true,"xmlns:sa":true,"xmlns:ja":true,"xmlns":true,"id":"da1","view":"all"},"$$":[{"#name":"section-title","$":{"id":"d1e860"},"_":"Data availability"},{"#name":"para","$":{"id":"d1e862","view":"all"},"_":"Data will be made available on request."}]}],"floats":[],"footnotes":[],"attachments":[]},"crossMark":{"isOpen":false},"downloadIssue":{"openOnPageLoad":false,"isOpen":false,"downloadCapOpen":false,"articles":[],"selected":[]},"enrichedContent":{"tableOfContents":false,"researchData":{"hasResearchData":false,"dataProfile":{},"openData":{},"mendeleyData":{},"databaseLinking":{}},"geospatialData":{"attachments":[]},"interactiveCaseInsights":{},"virtualMicroscope":{}},"entitledRecommendations":{"openOnPageLoad":false,"isOpen":false,"articles":[],"selected":[],"currentPage":1,"totalPages":1},"exam":{},"glossary":{},"issueNavigation":{"previous":{},"next":{}},"linkingHubLinks":{},"metrics":{"isOpen":true},"preview":{},"purchasePdf":{"isOpen":false},"rawtext":"","recommendations":{},"references":{},"referenceLinks":{"internal":[],"external":[]},"refersTo":{},"referredToBy":{},"relatedContent":{"isModal":false,"isOpenSpecialIssueArticles":false,"isOpenRecommendations":true,"isOpenReaxys":true,"citingArticles":[false,false,false,false,false,false],"recommendations":[false,false,false,false,false,false]},"seamlessAccess":{},"signInFromEmail":{"isOpen":false},"specialIssueArticles":{},"supplementaryFilesData":[],"tableOfContents":{"showEntitledTocLinks":false},"tail":{},"transientError":{"isOpen":false},"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0","workspace":{"isOpen":false},"viewConfig":{"articleFeature":{"rightsAndContentLink":true},"pathPrefix":""},"virtualSpecialIssue":{"showVirtualSpecialIssueLink":false}}</script>
<iframe style="display: none" src="//acw.sciencedirect.com/SSOCore/update?acw=36f0f3f0698d1645aa999db9a8856f88777agxrqb%7C%24%7C5AE0DC3264099BBF86BC1F3B4F2BE285E32CB9ED0760C6625466960FF524379A2858FC5F8D9CE550400E8A3473B4FE37B33A670E0FCAE3770E9169905BBD791CAFE9C31A29ED2080B6DA1F7CB1786ABB&utt=4401-9aba846a6814398c314-cbaeed67c5ebc5c3-pD9" tabindex="-1"></iframe><iframe style="display: none" src="//acw.elsevier.com/SSOCore/update?acw=36f0f3f0698d1645aa999db9a8856f88777agxrqb%7C%24%7C5AE0DC3264099BBF86BC1F3B4F2BE285E32CB9ED0760C6625466960FF524379A2858FC5F8D9CE550400E8A3473B4FE37B33A670E0FCAE3770E9169905BBD791CAFE9C31A29ED2080B6DA1F7CB1786ABB&utt=4401-9aba846a6814398c314-cbaeed67c5ebc5c3-pD9" tabindex="-1"></iframe>
<script src='https://assets.adobedtm.com/4a848ae9611a/032db4f73473/launch-a6263b31083f.min.js' type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script src="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/73/js/core-js/3.20.2/core-js.es.minified.js" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script src="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/51/js/react/16.12.0/react.production.min.js" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script src="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/51/js/react-dom/16.12.0/react-dom.production.min.js" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script src='https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/e3753beae449620a3579cc0662544120618e2090/arp.js' async type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script type="7aff73178d5774a14e9e5e49-text/javascript">
    const pendoData = {"visitor":{"id":"UNK_ID","pageName":"SD:product:journal:article","pageType":"CP-CA","pageProduct":"SD","pageLanguage":"en","pageEnvironment":"prod","accessType":"ae:ANON_IP","countryCode":"ES"},"account":{"id":"ae:40658","name":"ae:Ikerlan Technological Research Centre"},"events":{}};;
    pendoData.events = {
      ready: function () {
        pendo.addAltText();
      },
    };
    function runPendo(data, options) {
  const {
    firstDelay,
    maxRetries,
    urlPrefix,
    urlSuffix,
    apiKey
  } = options;

  (function (apiKey) {
    (function (p, e, n, d, o) {
      var v, w, x, y, z;
      o = p[d] = p[d] || {};
      o._q = [];
      v = ['initialize', 'identify', 'updateOptions', 'pageLoad'];

      for (w = 0, x = v.length; w < x; ++w) (function (m) {
        o[m] = o[m] || function () {
          o._q[m === v[0] ? 'unshift' : 'push']([m].concat([].slice.call(arguments, 0)));
        };
      })(v[w]);

      y = e.createElement(n);
      y.async = !0;
      y.src = urlPrefix + apiKey + urlSuffix;
      z = e.getElementsByTagName(n)[0];
      z.parentNode.insertBefore(y, z);
    })(window, document, 'script', 'pendo');

    pendo.addAltText = function () {
      var target = document.querySelector('body');
      var observer = new MutationObserver(function (mutations) {
        mutations.forEach(function (mutation) {
          if (mutation?.addedNodes?.length) {
            if (mutation.addedNodes[0]?.className?.includes("_pendo-badge")) {
              const badge = mutation.addedNodes[0];
              const altText = badge?.attributes['aria-label'].value ? badge?.attributes['aria-label'].value : 'Feedback';
              const pendoBadgeImage = pendo.dom(`#${badge?.attributes?.id.value} img`);

              if (pendoBadgeImage.length) {
                pendoBadgeImage[0]?.setAttribute('alt', altText);
              }
            }
          }
        });
      });
      var config = {
        attributeFilter: ['data-layout'],
        attributes: true,
        childList: true,
        characterData: true,
        subtree: false
      };
      observer.observe(target, config);
    };
  })(apiKey);

  (function watchAndSetPendo(nextDelay, retryAttempt) {
    if (typeof pageDataTracker === 'object' && typeof pageDataTracker.getVisitorId === 'function' && pageDataTracker.getVisitorId()) {
      data.visitor.id = pageDataTracker.getVisitorId();
      console.debug(`initializing pendo}`);
      pendo.initialize(data);
    } else {
      if (retryAttempt > 0) {
        return setTimeout(function () {
          watchAndSetPendo(nextDelay * 2, retryAttempt - 1);
        }, nextDelay);
      }

      console.debug(`gave up ... initializing pendo`);
      pendo.initialize(data);
    }
  })(firstDelay, maxRetries);
}
    runPendo(pendoData, {
      firstDelay: 100,
      maxRetries: 4,
      urlPrefix: 'https://cdn.pendo.io/agent/static/',
      urlSuffix: '/pendo.js',
      apiKey: 'd6c1d995-bc7e-4e53-77f1-2ea4ecbb9565',
    });
  </script>
<script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          displayAlign: 'left',
          "fast-preview": {
            disabled: true
          },
          CommonHTML: { linebreaks: { automatic: true } },
          PreviewHTML: { linebreaks: { automatic: true } },
          'HTML-CSS': { linebreaks: { automatic: true } },
          SVG: {
            scale: 90,
            linebreaks: { automatic: true }
          }
        });
      </script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=MML_SVG" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script async src="https://www.googletagservices.com/tag/js/gpt.js" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script async src="https://scholar.google.com/scholar_js/casa.js" type="7aff73178d5774a14e9e5e49-text/javascript"></script>
<script type="7aff73178d5774a14e9e5e49-module" src="https://static.mendeley.com/view-pdf-component/0.8.9/dist/view-pdf-element.js" crossorigin="anonymous" async></script>
<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="7aff73178d5774a14e9e5e49-|49" defer=""></script></body>
</html>